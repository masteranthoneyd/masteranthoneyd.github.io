<!doctype html><html class="theme-next muse use-motion" lang=en><meta name=generator content="Hexo 3.9.0"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content=no-transform><meta http-equiv=cache-control content=no-siteapp><meta http-equiv=content-language content=zh-cn><script src=//cdn.bootcss.com/pace/1.0.2/pace.min.js></script><link href=//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css rel=stylesheet><style>.pace .pace-progress{background:#ff009e;height:2px}.pace .pace-progress-inner{box-shadow:0 0 10px #e6006b,0 0 5px #ff009e}.pace .pace-activity{border-top-color:#ff009e;border-left-color:#ff009e}</style><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel=stylesheet><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel=stylesheet><link href="/css/main.css?v=5.1.0" rel=stylesheet><meta name=keywords content=Hexo,Node.js,Github,Coding,Git,><link rel=alternate href=/atom.xml title="ookamiAntD's Blog" type=application/atom+xml><link rel="shortcut icon" type=image/x-icon href="/favicon.png?v=5.1.0"><meta name=description content="前言好久没更新了, 因为懒- -前面介绍了Hexo的一些基本搭建→基于Hexo+github+coding搭建个人博客——基础篇(从菜鸟到放弃)对于追求装X的博主来说, 基本的搭建是满足不了的, 接下来整理了一下各方面的细节优化, 包括页面字体大小、配色、背景、SEO(搜索引擎优化)、域名绑定、DNS域名解析实现负载均衡等.关于NexT主题的很多配置、插件都可以在官方文档找到答案, 那么博主只是"><meta name=keywords content=Hexo,Node.js,Github,Coding,Git><meta property=og:type content=article><meta property=og:title content=基于Hexo搭建个人博客——进阶篇(从入门到入土)><meta property=og:url content=http://yangbingdong.com/2017/build-blog-hexo-advanced/index.html><meta property=og:site_name content="ookamiAntD's Blog"><meta property=og:description content="前言好久没更新了, 因为懒- -前面介绍了Hexo的一些基本搭建→基于Hexo+github+coding搭建个人博客——基础篇(从菜鸟到放弃)对于追求装X的博主来说, 基本的搭建是满足不了的, 接下来整理了一下各方面的细节优化, 包括页面字体大小、配色、背景、SEO(搜索引擎优化)、域名绑定、DNS域名解析实现负载均衡等.关于NexT主题的很多配置、插件都可以在官方文档找到答案, 那么博主只是"><meta property=og:locale content=en><meta property=og:image content=https://cdn.yangbingdong.com/img/build-hexo/next.png><meta property=og:image content=https://cdn.yangbingdong.com/img/build-hexo/share-mod.png><meta property=og:image content=https://cdn.yangbingdong.com/img/build-hexo/mod-share.png><meta property=og:image content=https://cdn.yangbingdong.com/img/disqus-proxy/disqus-proxy.png><meta property=og:image content=https://cdn.yangbingdong.com/img/disqus-proxy/disqus-api-applcation.png><meta property=og:image content=https://cdn.yangbingdong.com/img/disqus-proxy/disqus-admin-setting.png><meta property=og:image content=https://cdn.yangbingdong.com/img/disqus-proxy/comment02.png><meta property=og:image content=https://cdn.yangbingdong.com/img/disqus-proxy/comment01.png><meta property=og:image content=https://cdn.yangbingdong.com/img/build-hexo/hexo-next-click-boom.png><meta property=og:image content=https://cdn.yangbingdong.com/img/build-hexo/result.png><meta property=og:image content=https://cdn.yangbingdong.com/img/build-hexo/footer.png><meta property=og:image content=https://cdn.yangbingdong.com/img/build-hexo/languages.png><meta property=og:image content=https://cdn.yangbingdong.com/img/build-hexo/hexo-helper-live2d.png><meta property=og:image content=https://cdn.yangbingdong.com/img/build-hexo/yemiantiaoshi.png><meta property=og:image content=https://cdn.yangbingdong.com/img/build-hexo/DNSjiexi.png><meta property=og:image content=https://cdn.yangbingdong.com/img/build-hexo/baiduyanzheng.png><meta property=og:image content=https://cdn.yangbingdong.com/img/build-hexo/sitemap.png><meta property=og:image content=https://cdn.yangbingdong.com/img/build-hexo/GoogleSearch.png><meta property=og:image content=https://cdn.yangbingdong.com/img/build-hexo/baidutoken.png><meta property=og:image content=https://cdn.yangbingdong.com/img/build-hexo/robots.png><meta property=og:updated_time content=2020-04-07T10:15:47.006Z><meta name=twitter:card content=summary><meta name=twitter:title content=基于Hexo搭建个人博客——进阶篇(从入门到入土)><meta name=twitter:description content="前言好久没更新了, 因为懒- -前面介绍了Hexo的一些基本搭建→基于Hexo+github+coding搭建个人博客——基础篇(从菜鸟到放弃)对于追求装X的博主来说, 基本的搭建是满足不了的, 接下来整理了一下各方面的细节优化, 包括页面字体大小、配色、背景、SEO(搜索引擎优化)、域名绑定、DNS域名解析实现负载均衡等.关于NexT主题的很多配置、插件都可以在官方文档找到答案, 那么博主只是"><meta name=twitter:image content=https://cdn.yangbingdong.com/img/build-hexo/next.png><script id=hexo.configurations>var NexT=window.NexT||{};var CONFIG={root:'/',scheme:'Muse',sidebar:{"position":"right","display":"always"},fancybox:true,motion:true,duoshuo:{userId:'undefined',author:'Author'},algolia:{applicationID:'RI3NF6GUI0',apiKey:'3d33fa60ba30d3b17f37220bb1a36749',indexName:'blogIndex',hits:{"per_page":10},labels:{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}}};</script><link rel=canonical href=http://yangbingdong.com/2017/build-blog-hexo-advanced/><script>(function(){if(''){if(prompt('请输入文章密码')!==''){alert('密码错误！');history.back();}}})();</script><title>基于Hexo搭建个人博客——进阶篇(从入门到入土) | ookamiAntD's Blog</title><body itemscope itemtype=http://schema.org/WebPage lang=en><script>var _hmt=_hmt||[];(function(){var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?e9505ac4e11d464329d615553a72b526";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script><div class="container one-collumn sidebar-position-right page-post-detail"><div class=headband></div><a href=https://github.com/masteranthoneyd/blog rel="external nofollow noopener noreferrer" target=_blank><img style=position:absolute;top:0;left:0;border:0 src=https://camo.githubusercontent.com/82b228a3648bf44fc1163ef44c62fcc60081495e/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f7265645f6161303030302e706e67 alt="Fork me on GitHub" data-canonical-src=https://s3.amazonaws.com/github/ribbons/forkme_left_red_aa0000.png></a><header id=header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-meta><div class=custom-logo-site-title><a href=/ class=brand rel=start><span class=logo-line-before><i></i></span><span class=site-title>ookamiAntD's Blog</span>
<span class=logo-line-after><i></i></span></a></div><h1 class=site-subtitle itemprop=description>Easy coding,easy life.</h1></div><div class=site-nav-toggle><button>
<span class=btn-bar></span><span class=btn-bar></span><span class=btn-bar></span></button></div><nav class=site-nav><ul id=menu class=menu><li class="menu-item menu-item-home"><a href=/ rel=section><i class="menu-item-icon fa fa-fw fa-home"></i><br>Home</a><li class="menu-item menu-item-archives"><a href=/archives rel=section><i class="menu-item-icon fa fa-fw fa-archive"></i><br>Archives</a><li class="menu-item menu-item-categories"><a href=/categories rel=section><i class="menu-item-icon fa fa-fw fa-th"></i><br>Categories</a><li class="menu-item menu-item-tags"><a href=/tags rel=section><i class="menu-item-icon fa fa-fw fa-tags"></i><br>Tags</a><li class="menu-item menu-item-about"><a href=/about rel=section><i class="menu-item-icon fa fa-fw fa-user"></i><br>About</a><li class="menu-item menu-item-guestbook"><a href=/guestbook rel=section><i class="menu-item-icon fa fa-fw fa-commenting"></i><br>Message</a><li class="menu-item menu-item-search"><a href=javascript:; class=popup-trigger><i class="menu-item-icon fa fa-search fa-fw"></i><br>Search</a></ul><div class=site-search><div class=popup><span class="search-icon fa fa-search"></span><input id=local-search-input><div id=local-search-result></div><span class=popup-btn-close>close</span></div></div></nav></div></header><main id=main class=main><div class=main-inner><div class=content-wrap><div id=content class=content><div id=posts class=posts-expand><article class="post post-type-normal" itemscope itemtype=http://schema.org/Article><link itemprop=mainEntityOfPage href=http://yangbingdong.com/2017/build-blog-hexo-advanced/><span style=display:none itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=name content=ookamiAntD><meta itemprop=description content><meta itemprop=image content=/images/avatar/avatar-admin.jpg></span><span style=display:none itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="ookamiAntD's Blog"><span style=display:none itemprop=logo itemscope itemtype=http://schema.org/ImageObject><img style=display:none itemprop="url image" alt="ookamiAntD's Blog" src></span></span><header class=post-header><h2 class=post-title itemprop="name headline">基于Hexo搭建个人博客——进阶篇(从入门到入土)</h2><div class=post-meta><span class=post-time><span class=post-meta-item-icon><i class="fa fa-calendar-o"></i></span><span class=post-meta-item-text>Posted on</span>
<time title="Post created" itemprop="dateCreated datePublished" datetime=2017-02-21T23:07:34+08:00>2017-02-21</time></span>
<span class=post-category><span class=post-meta-divider>|</span>
<span class=post-meta-item-icon><i class="fa fa-folder-o"></i></span><span class=post-meta-item-text>In</span>
<span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/Hexo/ itemprop=url rel=index><span itemprop=name>Hexo</span></a></span></span>
<span id=/2017/build-blog-hexo-advanced/ class=leancloud_visitors data-flag-title=基于Hexo搭建个人博客——进阶篇(从入门到入土)><span class=post-meta-divider>|</span>
<span class=post-meta-item-icon><i class="fa fa-eye"></i></span><span class=post-meta-item-text>Visitors</span>
<span class=leancloud-visitors-count></span></span><br><span class=post-time><span class=post-meta-item-icon><i class="fa fa-edit"></i></span><span class=post-meta-item-text>WordCount:</span>
<span class=post-count>11,841字</span>
<span class=post-meta-divider>|</span>
<span class=post-meta-item-text>min2read:</span>
<span class=post-count>57分钟</span></span></div></header><div class=post-body itemprop=articleBody><link rel=stylesheet href=https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css><p><img src=https://cdn.yangbingdong.com/img/build-hexo/next.png alt><h1 id=前言><a href=#前言 class=headerlink title=前言></a>前言</h1><p>好久没更新了, 因为懒- -<br>前面介绍了Hexo的一些基本搭建→<strong><em><a href=/2017/build-blog-hexo-base/>基于Hexo+github+coding搭建个人博客——基础篇(从菜鸟到放弃)</a></em></strong><br>对于追求装X的博主来说, 基本的搭建是满足不了的, 接下来整理了一下各方面的细节优化, 包括页面字体大小、配色、背景、SEO(搜索引擎优化)、域名绑定、DNS域名解析实现负载均衡等.<br>关于<code>NexT</code>主题的很多配置、插件都可以在<strong><em><a href=theme-next.iissnan.com/getting-started.html>官方文档</a></em></strong>找到答案, 那么博主只是整理了一些官方没怎么提及的细节优化.</p><a id=more></a><h1 id=解决Hexo命令fs-SyncWriteStream问题><a href=#解决Hexo命令fs-SyncWriteStream问题 class=headerlink title=解决Hexo命令fs.SyncWriteStream问题></a>解决Hexo命令fs.SyncWriteStream问题</h1><p>请看<strong><em><a href=/2017/build-blog-hexo-base/#解决Hexo命令fs-SyncWriteStream问题>解决Hexo命令fs.SyncWriteStream问题</a></em></strong><h1 id=高度定制优化篇><a href=#高度定制优化篇 class=headerlink title=高度定制优化篇></a>高度定制优化篇</h1><h2 id=集成Mod分享组件><a href=#集成Mod分享组件 class=headerlink title=集成Mod分享组件></a>集成Mod分享组件</h2><p><img src=https://cdn.yangbingdong.com/img/build-hexo/share-mod.png alt><p>Step1、获取 AppKey<br>在 <em><a href=http://www.mob.com/ rel="external nofollow noopener noreferrer" target=_blank>Mob</a></em> 注册账号后, 点击头像进入后台, 选择 <code>shareSDK</code> 添加一个 <code>Web应用</code>:<p><img src=https://cdn.yangbingdong.com/img/build-hexo/mod-share.png alt><p>Step2、在<strong>主题配置文件</strong>中添加配置:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>mob_share:</span><br><span class=line>  enable: true</span><br><span class=line>  appkey: ********</span><br></pre></table></figure><p>Step3、在<code>next/layout/_partials/share/</code>里面添加<code>mob_share.swig</code>:<br><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br></pre><td class=code><pre><span class=line><span class=comment>&lt;!--MOB SHARE BEGIN--&gt;</span></span><br><span class=line><span class=tag>&lt;<span class=name>div</span> <span class=attr>class</span>=<span class=string>"-hoofoo-share-title"</span>&gt;</span>分享到: <span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br><span class=line><span class=tag>&lt;<span class=name>div</span> <span class=attr>class</span>=<span class=string>"-hoofoo-share-buttons"</span>&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>div</span> <span class=attr>class</span>=<span class=string>"-mob-share-weibo -hoofoo-share-weibo -hoofoo-share-ui-button"</span>&gt;</span><span class=tag>&lt;<span class=name>i</span> <span class=attr>class</span>=<span class=string>"fa fa-weibo"</span> <span class=attr>aria-hidden</span>=<span class=string>"true"</span>&gt;</span><span class=tag>&lt;/<span class=name>i</span>&gt;</span><span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>div</span> <span class=attr>class</span>=<span class=string>"-mob-share-weixin -hoofoo-share-weixin -hoofoo-share-ui-button"</span>&gt;</span><span class=tag>&lt;<span class=name>i</span> <span class=attr>class</span>=<span class=string>"fa fa-weixin"</span> <span class=attr>aria-hidden</span>=<span class=string>"true"</span>&gt;</span><span class=tag>&lt;/<span class=name>i</span>&gt;</span><span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>div</span> <span class=attr>class</span>=<span class=string>"-mob-share-qq -hoofoo-share-qq -hoofoo-share-ui-button"</span>&gt;</span><span class=tag>&lt;<span class=name>i</span> <span class=attr>class</span>=<span class=string>"fa fa-qq"</span> <span class=attr>aria-hidden</span>=<span class=string>"true"</span>&gt;</span><span class=tag>&lt;/<span class=name>i</span>&gt;</span><span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>div</span> <span class=attr>class</span>=<span class=string>"-mob-share-twitter -hoofoo-share-twitter -hoofoo-share-ui-button"</span>&gt;</span><span class=tag>&lt;<span class=name>i</span> <span class=attr>class</span>=<span class=string>"fa fa-twitter"</span> <span class=attr>aria-hidden</span>=<span class=string>"true"</span>&gt;</span><span class=tag>&lt;/<span class=name>i</span>&gt;</span><span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>div</span> <span class=attr>class</span>=<span class=string>"-hoofoo-share-more -hoofoo-share-ui-button -mob-share-open"</span>&gt;</span><span class=tag>&lt;<span class=name>i</span> <span class=attr>class</span>=<span class=string>"fa fa-ellipsis-h"</span> <span class=attr>aria-hidden</span>=<span class=string>"true"</span>&gt;</span><span class=tag>&lt;/<span class=name>i</span>&gt;</span><span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br><span class=line><span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br><span class=line><span class=tag>&lt;<span class=name>div</span> <span class=attr>class</span>=<span class=string>"-mob-share-ui"</span> <span class=attr>style</span>=<span class=string>"display: none"</span>&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>ul</span> <span class=attr>class</span>=<span class=string>"-mob-share-list"</span>&gt;</span></span><br><span class=line>        <span class=tag>&lt;<span class=name>li</span> <span class=attr>class</span>=<span class=string>"-mob-share-weibo"</span>&gt;</span><span class=tag>&lt;<span class=name>p</span>&gt;</span>新浪微博<span class=tag>&lt;/<span class=name>p</span>&gt;</span><span class=tag>&lt;/<span class=name>li</span>&gt;</span></span><br><span class=line>        <span class=tag>&lt;<span class=name>li</span> <span class=attr>class</span>=<span class=string>"-mob-share-weixin"</span>&gt;</span><span class=tag>&lt;<span class=name>p</span>&gt;</span>微信<span class=tag>&lt;/<span class=name>p</span>&gt;</span><span class=tag>&lt;/<span class=name>li</span>&gt;</span></span><br><span class=line>        <span class=tag>&lt;<span class=name>li</span> <span class=attr>class</span>=<span class=string>"-mob-share-qzone"</span>&gt;</span><span class=tag>&lt;<span class=name>p</span>&gt;</span>QQ空间<span class=tag>&lt;/<span class=name>p</span>&gt;</span><span class=tag>&lt;/<span class=name>li</span>&gt;</span></span><br><span class=line>        <span class=tag>&lt;<span class=name>li</span> <span class=attr>class</span>=<span class=string>"-mob-share-qq"</span>&gt;</span><span class=tag>&lt;<span class=name>p</span>&gt;</span>QQ好友<span class=tag>&lt;/<span class=name>p</span>&gt;</span><span class=tag>&lt;/<span class=name>li</span>&gt;</span></span><br><span class=line>        <span class=tag>&lt;<span class=name>li</span> <span class=attr>class</span>=<span class=string>"-mob-share-tencentweibo"</span>&gt;</span><span class=tag>&lt;<span class=name>p</span>&gt;</span>腾讯微博<span class=tag>&lt;/<span class=name>p</span>&gt;</span><span class=tag>&lt;/<span class=name>li</span>&gt;</span></span><br><span class=line>        <span class=tag>&lt;<span class=name>li</span> <span class=attr>class</span>=<span class=string>"-mob-share-renren"</span>&gt;</span><span class=tag>&lt;<span class=name>p</span>&gt;</span>人人网<span class=tag>&lt;/<span class=name>p</span>&gt;</span><span class=tag>&lt;/<span class=name>li</span>&gt;</span></span><br><span class=line>        <span class=tag>&lt;<span class=name>li</span> <span class=attr>class</span>=<span class=string>"-mob-share-kaixin"</span>&gt;</span><span class=tag>&lt;<span class=name>p</span>&gt;</span>开心网<span class=tag>&lt;/<span class=name>p</span>&gt;</span><span class=tag>&lt;/<span class=name>li</span>&gt;</span></span><br><span class=line>        <span class=tag>&lt;<span class=name>li</span> <span class=attr>class</span>=<span class=string>"-mob-share-douban"</span>&gt;</span><span class=tag>&lt;<span class=name>p</span>&gt;</span>豆瓣<span class=tag>&lt;/<span class=name>p</span>&gt;</span><span class=tag>&lt;/<span class=name>li</span>&gt;</span></span><br><span class=line>        <span class=tag>&lt;<span class=name>li</span> <span class=attr>class</span>=<span class=string>"-mob-share-youdao"</span>&gt;</span><span class=tag>&lt;<span class=name>p</span>&gt;</span>有道云笔记<span class=tag>&lt;/<span class=name>p</span>&gt;</span><span class=tag>&lt;/<span class=name>li</span>&gt;</span></span><br><span class=line>        <span class=tag>&lt;<span class=name>li</span> <span class=attr>class</span>=<span class=string>"-mob-share-mingdao"</span>&gt;</span><span class=tag>&lt;<span class=name>p</span>&gt;</span>明道<span class=tag>&lt;/<span class=name>p</span>&gt;</span><span class=tag>&lt;/<span class=name>li</span>&gt;</span></span><br><span class=line>        <span class=tag>&lt;<span class=name>li</span> <span class=attr>class</span>=<span class=string>"-mob-share-pengyou"</span>&gt;</span><span class=tag>&lt;<span class=name>p</span>&gt;</span>朋友网<span class=tag>&lt;/<span class=name>p</span>&gt;</span><span class=tag>&lt;/<span class=name>li</span>&gt;</span></span><br><span class=line>        <span class=tag>&lt;<span class=name>li</span> <span class=attr>class</span>=<span class=string>"-mob-share-facebook"</span>&gt;</span><span class=tag>&lt;<span class=name>p</span>&gt;</span>Facebook<span class=tag>&lt;/<span class=name>p</span>&gt;</span><span class=tag>&lt;/<span class=name>li</span>&gt;</span></span><br><span class=line>        <span class=tag>&lt;<span class=name>li</span> <span class=attr>class</span>=<span class=string>"-mob-share-twitter"</span>&gt;</span><span class=tag>&lt;<span class=name>p</span>&gt;</span>Twitter<span class=tag>&lt;/<span class=name>p</span>&gt;</span><span class=tag>&lt;/<span class=name>li</span>&gt;</span></span><br><span class=line>        <span class=tag>&lt;<span class=name>li</span> <span class=attr>class</span>=<span class=string>"-mob-share-pocket"</span>&gt;</span><span class=tag>&lt;<span class=name>p</span>&gt;</span>Pocket<span class=tag>&lt;/<span class=name>p</span>&gt;</span><span class=tag>&lt;/<span class=name>li</span>&gt;</span></span><br><span class=line>        <span class=tag>&lt;<span class=name>li</span> <span class=attr>class</span>=<span class=string>"-mob-share-google"</span>&gt;</span><span class=tag>&lt;<span class=name>p</span>&gt;</span>Google+<span class=tag>&lt;/<span class=name>p</span>&gt;</span><span class=tag>&lt;/<span class=name>li</span>&gt;</span></span><br><span class=line>        <span class=tag>&lt;<span class=name>li</span> <span class=attr>class</span>=<span class=string>"-mob-share-tumblr"</span>&gt;</span><span class=tag>&lt;<span class=name>p</span>&gt;</span>Tumblr<span class=tag>&lt;/<span class=name>p</span>&gt;</span><span class=tag>&lt;/<span class=name>li</span>&gt;</span></span><br><span class=line>        <span class=tag>&lt;<span class=name>li</span> <span class=attr>class</span>=<span class=string>"-mob-share-instapaper"</span>&gt;</span><span class=tag>&lt;<span class=name>p</span>&gt;</span>Instapaper<span class=tag>&lt;/<span class=name>p</span>&gt;</span><span class=tag>&lt;/<span class=name>li</span>&gt;</span></span><br><span class=line>        <span class=tag>&lt;<span class=name>li</span> <span class=attr>class</span>=<span class=string>"-mob-share-linkedin"</span>&gt;</span><span class=tag>&lt;<span class=name>p</span>&gt;</span>Linkedin<span class=tag>&lt;/<span class=name>p</span>&gt;</span><span class=tag>&lt;/<span class=name>li</span>&gt;</span></span><br><span class=line>    <span class=tag>&lt;/<span class=name>ul</span>&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>div</span> <span class=attr>class</span>=<span class=string>"-mob-share-close"</span>&gt;</span>取消<span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br><span class=line><span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br><span class=line><span class=tag>&lt;<span class=name>div</span> <span class=attr>class</span>=<span class=string>"-mob-share-ui-bg"</span>&gt;</span><span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br><span class=line><span class=tag>&lt;<span class=name>script</span> <span class=attr>id</span>=<span class=string>"-mob-share"</span> <span class=attr>src</span>=<span class=string>"http://f1.webshare.mob.com/code/mob-share.js?appkey=&#123;&#123;theme.mob_share.appkey&#125;&#125;"</span>&gt;</span><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span><br><span class=line><span class=comment>&lt;!--MOB SHARE END--&gt;</span></span><br></pre></table></figure><p>Step4、在<code>next/layout/post.swig</code>中添加条件分支:<br><figure class=highlight><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br></pre><td class=code><pre><span class=line>&#123;% if theme.jiathis %&#125;</span><br><span class=line>      &#123;% include '_partials/share/jiathis.swig' %&#125;</span><br><span class=line>    &#123;% elseif theme.baidushare %&#125;</span><br><span class=line>      &#123;% include '_partials/share/baidushare.swig' %&#125;</span><br><span class=line>    &#123;% elseif theme.add_this_id %&#125;</span><br><span class=line>      &#123;% include '_partials/share/add-this.swig' %&#125;</span><br><span class=line>    &#123;% elseif theme.duoshuo_shortname and theme.duoshuo_share %&#125;</span><br><span class=line>      &#123;% include '_partials/share/duoshuo_share.swig' %&#125;</span><br><span class=line>    &#123;% elseif theme.mob_share.enable %&#125;</span><br><span class=line>      &#123;% include '_partials/share/mob_share.swig' %&#125;</span><br><span class=line>&#123;% endif %&#125;</span><br></pre></table></figure><p>Step5、在<code>next/source/css/_common/components/third-party/</code>里添加样式文件<code>mob_share.styl</code>:<br><figure class="highlight css"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br></pre><td class=code><pre><span class=line><span class=selector-class>.-hoofoo-share-buttons</span>&#123;</span><br><span class=line>    <span class=attribute>display</span>: inline-block;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.-hoofoo-share-title</span>&#123;</span><br><span class=line>    <span class=attribute>font-size</span>: <span class=number>1.1em</span>;</span><br><span class=line>    <span class=attribute>font-weight</span>: <span class=number>200</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.-hoofoo-share-ui-button</span>&#123;</span><br><span class=line>    <span class=attribute>cursor</span>: pointer;</span><br><span class=line>    <span class=attribute>background-color</span>: <span class=number>#555</span>;</span><br><span class=line>    <span class=attribute>color</span>: <span class=number>#fff</span>;</span><br><span class=line>    <span class=attribute>font-size</span>: <span class=number>24px</span>;</span><br><span class=line>    <span class=attribute>line-height</span>: <span class=number>40px</span>;</span><br><span class=line>    <span class=attribute>width</span>: <span class=number>40px</span>;</span><br><span class=line>    <span class=attribute>height</span>: <span class=number>40px</span>;</span><br><span class=line>    <span class=attribute>margin</span>: <span class=number>10px</span>;</span><br><span class=line>    <span class=attribute>border-radius</span>: <span class=number>25px</span>;</span><br><span class=line>    <span class=attribute>float</span>: left;</span><br><span class=line>    <span class=attribute>transition</span>: background <span class=number>0.4s</span>;</span><br><span class=line>    <span class=attribute>-moz-transition</span>: background <span class=number>0.4s</span>;    <span class=comment>/* Firefox 4 */</span></span><br><span class=line>    <span class=attribute>-webkit-transition</span>: background <span class=number>0.4s</span>;    <span class=comment>/* Safari 和 Chrome */</span></span><br><span class=line>    <span class=attribute>-o-transition</span>: background <span class=number>0.4s</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.-hoofoo-share-weibo</span><span class=selector-pseudo>:hover</span>&#123;</span><br><span class=line>    <span class=attribute>background-color</span>: <span class=number>#cf3f41</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.-hoofoo-share-weixin</span><span class=selector-pseudo>:hover</span>&#123;</span><br><span class=line>    <span class=attribute>background-color</span>: <span class=number>#18a01a</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.-hoofoo-share-qq</span><span class=selector-pseudo>:hover</span>&#123;</span><br><span class=line>    <span class=attribute>background-color</span>: <span class=number>#950c0c</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.-hoofoo-share-twitter</span><span class=selector-pseudo>:hover</span>&#123;</span><br><span class=line>    <span class=attribute>background-color</span>: <span class=number>#2ab3e6</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.-hoofoo-share-more</span><span class=selector-pseudo>:hover</span>&#123;</span><br><span class=line>    <span class=attribute>background-color</span>: <span class=number>#777</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.-mob-share-weixin-qrcode-content</span>&#123;</span><br><span class=line>    <span class=attribute>border-radius</span>: <span class=number>4px</span>;</span><br><span class=line>    <span class=attribute>-webkit-box-shadow</span>: <span class=number>0</span> <span class=number>10px</span> <span class=number>25px</span> <span class=built_in>rgba</span>(<span class=number>0</span>, <span class=number>0</span>, <span class=number>0</span>, <span class=number>0.5</span>);</span><br><span class=line>    <span class=attribute>-moz-box-shadow</span>: <span class=number>0</span> <span class=number>10px</span> <span class=number>25px</span> <span class=built_in>rgba</span>(<span class=number>0</span>, <span class=number>0</span>, <span class=number>0</span>, <span class=number>0.5</span>);</span><br><span class=line>    <span class=attribute>-o-box-shadow</span>: <span class=number>0</span> <span class=number>10px</span> <span class=number>25px</span> <span class=built_in>rgba</span>(<span class=number>0</span>, <span class=number>0</span>, <span class=number>0</span>, <span class=number>0.5</span>);</span><br><span class=line>    <span class=attribute>box-shadow</span>: <span class=number>0</span> <span class=number>10px</span> <span class=number>25px</span> <span class=built_in>rgba</span>(<span class=number>0</span>, <span class=number>0</span>, <span class=number>0</span>, <span class=number>0.5</span>);</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.-mob-share-weixin-qrcode</span>&#123;</span><br><span class=line>    <span class=attribute>margin</span>: <span class=number>5%</span> <span class=meta>!important</span>;</span><br><span class=line>    <span class=attribute>width</span>: <span class=number>90%</span> <span class=meta>!important</span>;</span><br><span class=line>    <span class=attribute>height</span>: auto <span class=meta>!important</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.-mob-share-weixin-qrcode-close</span> &#123;</span><br><span class=line>    background-image: url('/lib/fancybox/source/fancybox_sprite.png') !important;//因为兼容问题把vendor改成了lib, 根据自己的路径修改</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.-mob-share-weixin-qrcode-close</span> &#123;</span><br><span class=line>    <span class=attribute>overflow</span>: hidden;</span><br><span class=line>    <span class=attribute>line-height</span>: <span class=number>100px</span> <span class=meta>!important</span>;</span><br><span class=line>    <span class=attribute>position</span>: absolute <span class=meta>!important</span>;</span><br><span class=line>    <span class=attribute>top</span>: -<span class=number>18px</span> <span class=meta>!important</span>;</span><br><span class=line>    <span class=attribute>right</span>: -<span class=number>18px</span> <span class=meta>!important</span>;</span><br><span class=line>    <span class=attribute>width</span>: <span class=number>36px</span> <span class=meta>!important</span>;</span><br><span class=line>    <span class=attribute>height</span>: <span class=number>36px</span> <span class=meta>!important</span>;</span><br><span class=line>    <span class=attribute>cursor</span>: pointer <span class=meta>!important</span>;</span><br><span class=line>    <span class=attribute>z-index</span>: <span class=number>8040</span> <span class=meta>!important</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=comment>/*Retina graphics!*/</span></span><br><span class=line><span class=keyword>@media</span> <span class=keyword>only</span> screen <span class=keyword>and</span> (<span class=attribute>-webkit-min-device-pixel-ratio:</span> <span class=number>1.5</span>),</span><br><span class=line>       <span class=keyword>only</span> screen <span class=keyword>and</span> (<span class=attribute>min--moz-device-pixel-ratio:</span> <span class=number>1.5</span>),</span><br><span class=line>       <span class=keyword>only</span> screen <span class=keyword>and</span> (<span class=attribute>min-device-pixel-ratio:</span> <span class=number>1.5</span>)&#123;</span><br><span class=line>    <span class=selector-class>.-mob-share-weixin-qrcode-close</span> &#123;</span><br><span class=line>        background-image: url('/lib/fancybox/source/fancybox_sprite@2x.png') !important;//因为兼容问题把vendor改成了lib, 根据自己的路径修改</span><br><span class=line>        <span class=selector-tag>background-size</span>: 44<span class=selector-tag>px</span> 152<span class=selector-tag>px</span> !<span class=selector-tag>important</span>; <span class=comment>/*The size of the normal image, half the size of the hi-res image*/</span></span><br><span class=line>    &#125;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.-mob-share-close</span>&#123;</span><br><span class=line>    <span class=attribute>height</span>: <span class=number>4em</span> <span class=meta>!important</span>;</span><br><span class=line>    <span class=attribute>font-size</span>: <span class=number>0.8em</span> <span class=meta>!important</span>;</span><br><span class=line>    <span class=attribute>line-height</span>: <span class=number>4em</span> <span class=meta>!important</span>;</span><br><span class=line>    <span class=attribute>background</span>: <span class=number>#555</span> <span class=meta>!important</span>;</span><br><span class=line>    <span class=attribute>color</span>: <span class=number>#fff</span> <span class=meta>!important</span>;</span><br><span class=line>&#125;</span><br></pre></table></figure><p>Step6、同一目录下的 <code>third-party.styl</code> 中添加:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>@import &quot;mob_share&quot;;</span><br></pre></table></figure><p>Step7、在<code>next/layout/_scripts/third-party/</code>里添加脚本文件<code>mob_share.swig</code>:<figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre><td class=code><pre><span class=line>&#123;% if theme.mob_share.enable %&#125;</span><br><span class=line><span class=tag>&lt;<span class=name>script</span> <span class=attr>type</span>=<span class=string>"text/javascript"</span>&gt;</span></span><br><span class=line>    //微信二维码点击背景关闭</span><br><span class=line>    $('body').delegate('.-mob-share-weixin-qrcode-bg','click', function()&#123;</span><br><span class=line>         $(".-mob-share-weixin-qrcode-close").trigger("click");</span><br><span class=line>    &#125;); </span><br><span class=line><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span><br><span class=line>&#123;% endif %&#125;</span><br></pre></table></figure><p>Step8、在<code>next/layout/_layout.swig</code>的<code>body</code>标签结束前添加:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>&#123;% include &apos;_scripts/third-party/mob_share.swig&apos; %&#125;</span><br></pre></table></figure><h2 id=添加顶部加载条><a href=#添加顶部加载条 class=headerlink title=添加顶部加载条></a>添加顶部加载条</h2><p>打开<code>/themes/next/layout/_partials/head.swig</code>文件, 添加如下代码:<br><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line><span class=tag>&lt;<span class=name>script</span> <span class=attr>src</span>=<span class=string>"//cdn.bootcss.com/pace/1.0.2/pace.min.js"</span>&gt;</span><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span><br><span class=line><span class=tag>&lt;<span class=name>link</span> <span class=attr>href</span>=<span class=string>"//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css"</span> <span class=attr>rel</span>=<span class=string>"stylesheet"</span>&gt;</span></span><br></pre></table></figure><p>但是, 默认的是粉色的, 要改变颜色可以在<code>/themes/next/layout/_partials/head.swig</code>文件中添加如下代码（接在刚才link的后面）<br><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre><td class=code><pre><span class=line><span class=tag>&lt;<span class=name>style</span>&gt;</span></span><br><span class=line><span class=css>    <span class=selector-class>.pace</span> <span class=selector-class>.pace-progress</span> &#123;</span></span><br><span class=line><span class=css>        <span class=selector-tag>background</span>: <span class=selector-id>#ff009e</span>; <span class=comment>/*进度条颜色*/</span></span></span><br><span class=line>        height: 3px;</span><br><span class=line>    &#125;</span><br><span class=line><span class=css>    <span class=selector-class>.pace</span> <span class=selector-class>.pace-progress-inner</span> &#123;</span></span><br><span class=line><span class=css>         <span class=selector-tag>box-shadow</span>: 0 0 10<span class=selector-tag>px</span> <span class=selector-id>#ff009e</span>, 0 0 5<span class=selector-tag>px</span> <span class=selector-id>#ff009e</span>; <span class=comment>/*阴影颜色*/</span></span></span><br><span class=line>    &#125;</span><br><span class=line><span class=css>    <span class=selector-class>.pace</span> <span class=selector-class>.pace-activity</span> &#123;</span></span><br><span class=line><span class=css>        <span class=selector-tag>border-top-color</span>: <span class=selector-id>#ff009e</span>;    <span class=comment>/*上边框颜色*/</span></span></span><br><span class=line><span class=css>        <span class=selector-tag>border-left-color</span>: <span class=selector-id>#ff009e</span>;    <span class=comment>/*左边框颜色*/</span></span></span><br><span class=line>    &#125;</span><br><span class=line><span class=tag>&lt;/<span class=name>style</span>&gt;</span></span><br></pre></table></figure><h2 id=文章加密访问><a href=#文章加密访问 class=headerlink title=文章加密访问></a>文章加密访问</h2><p>打开<code>themes-&gt;next-&gt;layout-&gt;_partials-&gt;head.swig</code>文件,插入这样一段代码:<br><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br></pre><td class=code><pre><span class=line><span class=tag>&lt;<span class=name>script</span>&gt;</span></span><br><span class=line>    (function()&#123;</span><br><span class=line>        if('&#123;&#123; page.password &#125;&#125;')&#123;</span><br><span class=line>            if (prompt('请输入文章密码') !== '&#123;&#123; page.password &#125;&#125;')&#123;</span><br><span class=line>                alert('密码错误！');</span><br><span class=line>                history.back();</span><br><span class=line>            &#125;</span><br><span class=line>        &#125;</span><br><span class=line>    &#125;)();</span><br><span class=line><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span><br></pre></table></figure><p>然后在文章上写成类似这样:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br></pre><td class=code><pre><span class=line>---</span><br><span class=line>title: Hello World</span><br><span class=line>date: 2016/7/13 20:46:25</span><br><span class=line>categories:</span><br><span class=line>- Diary</span><br><span class=line>tags:</span><br><span class=line>  - Testing</span><br><span class=line>  - Another Tag</span><br><span class=line>password: 123456</span><br><span class=line>---</span><br></pre></table></figure><h2 id=博客更换Disqus评论><a href=#博客更换Disqus评论 class=headerlink title=博客更换Disqus评论></a>博客更换Disqus评论</h2><p>由于多说即将关闭, 本站启用Disqus.<br>既然Disqus已被墙, 那么为了对没有梯子的同学标示友好, 我们可以选择点击加载Disqus评论的方式, 这个问题貌似也得到了主题作者的关注-&gt; <strong><em>(NexT5.2.0)[<a href=https://github.com/iissnan/hexo-theme-next/milestone/7] rel="external nofollow noopener noreferrer" target=_blank>https://github.com/iissnan/hexo-theme-next/milestone/7]</a></em></strong><br>具体做法如下:<br>打开<code>themes/next/layout/_partials/comments.swig</code>, 在文件内容 <code>&lt;div id=&quot;disqus_thread&quot;&gt;</code>前面加入下面内容:<br><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line><span class=tag>&lt;<span class=name>div</span> <span class=attr>style</span>=<span class=string>"text-align:center;"</span>&gt;</span></span><br><span class=line>  <span class=tag>&lt;<span class=name>button</span> <span class=attr>class</span>=<span class=string>"btn"</span> <span class=attr>id</span>=<span class=string>"load-disqus"</span> <span class=attr>onclick</span>=<span class=string>"disqus.load();"</span>&gt;</span>加载 Disqus 评论<span class=tag>&lt;/<span class=name>button</span>&gt;</span></span><br><span class=line><span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br></pre></table></figure><p>再打开<code>themes/next/layout/_scripts/third-party/comments/disqus.swig</code>, 需要替换原本的 Disqus 的加载的内容, 如果希望显示评论数量, 就保留 run_disqus_script(‘count.js’) 这一行, 这样页面载入时还会加载 disqus 的资源:<br><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line>run_disqus_script('count.js');</span><br><span class=line>&#123;% if page.comments %&#125;</span><br><span class=line>  run_disqus_script('embed.js');</span><br><span class=line>&#123;% endif %&#125;</span><br></pre></table></figure><p>替换为下面的内容:<br><figure class="highlight javascript"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre><td class=code><pre><span class=line><span class=keyword>var</span> disqus = &#123;</span><br><span class=line>  load : <span class=function><span class=keyword>function</span> <span class=title>disqus</span>(<span class=params></span>)</span>&#123;</span><br><span class=line>      <span class=keyword>if</span>(<span class=keyword>typeof</span> DISQUS !== <span class=string>'object'</span>) &#123;</span><br><span class=line>        (<span class=function><span class=keyword>function</span> (<span class=params></span>) </span>&#123;</span><br><span class=line>        <span class=keyword>var</span> s = <span class=built_in>document</span>.createElement(<span class=string>'script'</span>); s.async = <span class=literal>true</span>;</span><br><span class=line>        s.type = <span class=string>'text/javascript'</span>;</span><br><span class=line>        s.src = <span class=string>'//'</span> + disqus_shortname + <span class=string>'.disqus.com/embed.js'</span>;</span><br><span class=line>        (<span class=built_in>document</span>.getElementsByTagName(<span class=string>'HEAD'</span>)[<span class=number>0</span>] || <span class=built_in>document</span>.getElementsByTagName(<span class=string>'BODY'</span>)[<span class=number>0</span>]).appendChild(s);</span><br><span class=line>        &#125;());</span><br><span class=line>        $(<span class=string>'#load-disqus'</span>).html(<span class=string>"评论加载中, 请确保你有梯子, 若评论长时间未加载则你可能翻墙失败..."</span>).fadeOut(<span class=number>9000</span>); <span class=comment>//加载后移除按钮</span></span><br><span class=line>      &#125;</span><br><span class=line>  &#125;</span><br><span class=line>&#125;</span><br></pre></table></figure><p>前面的 <code>function run_disqus_script(disqus_script){}</code>这一段, 不打算显示评论数量的话, 可以一起删掉, 不显示评论数量的话, 那么点击加载按钮之前, 网页是不会加载来自 Disqus 的资源的.<h2 id=NexT启用Disqus-Proxy-不翻墙也能使用Disqus><a href=#NexT启用Disqus-Proxy-不翻墙也能使用Disqus class=headerlink title="NexT启用Disqus-Proxy 不翻墙也能使用Disqus"></a>NexT启用Disqus-Proxy 不翻墙也能使用Disqus</h2><p><img src=https://cdn.yangbingdong.com/img/disqus-proxy/disqus-proxy.png alt><blockquote><p>多说于2017.06.01停止了服务, 不得不选择其他的第三方评论服务, 试了一下国内的服务发现不是麻烦（例如需要备案）就是不靠谱或者界面不炫酷（装X嫌疑…）<p>还是使用<strong><em><a href=https://disqus.com/ rel="external nofollow noopener noreferrer" target=_blank>Disqus</a></em></strong>吧…But, 这个早就被<strong><em><a href="https://baike.baidu.com/item/great%20firewall/4843556?fr=aladdin&amp;fromid=18582731&amp;fromtitle=GFW" rel="external nofollow noopener noreferrer" target=_blank>GWF</a></em></strong>隔离了, 虽然自己可以闪现过墙=.=, 但游客不一定都会这个技能…<br>那么问题来了, 怎么做一个公共的梯子实现人人翻墙？<br>在Gayhub全球最大同性交友网中发现, 早就有大神做了这样一个服务, 并选择了<em><a href=https://ycwalker.com/ rel="external nofollow noopener noreferrer" target=_blank>ciqulover</a></em>(在此感谢大神的鼎力相助)的<strong><em><a href=https://github.com/ciqulover/disqus-proxy rel="external nofollow noopener noreferrer" target=_blank>Disque-Proxy</a></em></strong>项目作为梯子.<br>当然也还有其他的Disqus-Proxy -&gt; <strong><em><a href=https://github.com/fooleap/disqus-php-api rel="external nofollow noopener noreferrer" target=_blank>fooleap</a></em></strong>、 <strong><em><a href=https://github.com/jiananshi/disqus-proxy rel="external nofollow noopener noreferrer" target=_blank>jiananshi</a></em></strong></blockquote><h3 id=Flow><a href=#Flow class=headerlink title=Flow></a>Flow</h3><p>流程就没什么好说的了, 如上图, 在前端页面上测试 disqus 加载是否成功, 如果成功则显示 disqus 的评论框, 反之加载独立的评论框…<br>具体请看<strong><em><a href=https://ycwalker.com/2017/06/01/about-diqus-proxy/ rel="external nofollow noopener noreferrer" target=_blank>https://ycwalker.com/2017/06/01/about-diqus-proxy/</a></em></strong><h3 id=Get-Api-secret><a href=#Get-Api-secret class=headerlink title="Get Api-secret"></a>Get Api-secret</h3><p><code>api-secret</code> 需要你在 <strong><em><a href=https://disqus.com/api/applications/ rel="external nofollow noopener noreferrer" target=_blank>Disqus Api</a></em></strong> 的官方网站上开启 <strong>API</strong> 权限, 申请成功后会得到这个秘钥.<br><img src=https://cdn.yangbingdong.com/img/disqus-proxy/disqus-api-applcation.png alt><p>并且需要在后台的 <code>Settings</code> =&gt; <code>Community</code> 里开启访客评论:<br><img src=https://cdn.yangbingdong.com/img/disqus-proxy/disqus-admin-setting.png alt><h3 id=Deploy-Disqus-Proxy><a href=#Deploy-Disqus-Proxy class=headerlink title="Deploy Disqus-Proxy"></a>Deploy Disqus-Proxy</h3><p>首先你得有一台<strong>可以访问<a href=https://disqus.com/ rel="external nofollow noopener noreferrer" target=_blank>Disqus</a></strong>的VPS<sup id=fnref:1><a href=#fn:1 rel=footnote><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="basic footnote content">[1]</span></a></sup>… 博主用的是<strong><em><a href=www.linode.com>Linode</a></em></strong><p>Docker方式启动:<figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line>docker run -d --name disqus-proxy --restart=always -p 5509:5509 \</span><br><span class=line>-e API_SECRECT=your_serect \</span><br><span class=line>-e SHORT_NAME=your_short_name \</span><br><span class=line>ycwalker/disqus-proxy-server</span><br></pre></table></figure><p>更多方式请移步到 <strong><em><a href=https://github.com/ciqulover/disqus-proxy-server rel="external nofollow noopener noreferrer" target=_blank>https://github.com/ciqulover/disqus-proxy-server</a></em></strong><h3 id=NexT-Configuration><a href=#NexT-Configuration class=headerlink title="NexT Configuration"></a>NexT Configuration</h3><h4 id=Copy-Static-File><a href=#Copy-Static-File class=headerlink title="Copy Static File"></a>Copy Static File</h4><p>将<code>disqus-proxy</code>项目中<code>/build/static</code>文件复制到博客<code>../next/source/</code>下.<br><code>static</code>文件中应该包含<code>main.0d0338ae.js</code>和<code>main.0603c539.css</code>.<h4 id=config-yml><a href=#config-yml class=headerlink title=_config.yml></a>_config.yml</h4><p>在<strong>主题配置文件</strong>中添加:<br><figure class="highlight yaml"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre><td class=code><pre><span class=line><span class=attr>disqus_proxy:</span></span><br><span class=line>  <span class=attr>enable:</span> <span class=literal>true</span></span><br><span class=line>  <span class=comment># 如果 disqus 账号名没设置 那么 disqus_proxy 也不会生效</span></span><br><span class=line>  <span class=attr>username:</span> <span class=string>ookamiantd</span></span><br><span class=line>  <span class=comment># 下面两项你需要更改为自己服务器的域名和端口</span></span><br><span class=line>  <span class=attr>server:</span> <span class=string>disqus-proxy.yangbingdong.com</span> </span><br><span class=line>  <span class=attr>port:</span> <span class=number>5509</span>  <span class=comment># 端口号需要与后端设置一致</span></span><br><span class=line>  <span class=comment># 头像路径设置</span></span><br><span class=line>  <span class=attr>defaultAvatar:</span> <span class=string>/images/avatar/avatar-default.jpg</span></span><br><span class=line>  <span class=attr>adminAvatar:</span> <span class=string>/images/avatar/avatar-admin.jpg</span></span><br><span class=line>  <span class=comment># 脚本和 css 路径</span></span><br><span class=line>  <span class=attr>js:</span> <span class=string>/static/js/main.0d0338ae.js</span></span><br><span class=line>  <span class=attr>css:</span> <span class=string>/static/css/main.0603c539.css</span></span><br></pre></table></figure><h4 id=comment-swig><a href=#comment-swig class=headerlink title=comment.swig></a>comment.swig</h4><p>修改<code>/next/layout/_partial/comment.swig</code>, 在最后一个<code>&lt;/div&gt;</code>钱加上:<figure class="highlight javascript"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br></pre><td class=code><pre><span class=line>&lt;div id=<span class=string>"disqus_proxy_thread"</span>&gt;&lt;<span class=regexp>/div&gt;</span></span><br><span class=line><span class=regexp>      &lt;div id="disqus_thread"&gt;&lt;/</span>div&gt;</span><br><span class=line>      &#123;% <span class=keyword>if</span> theme.disqus_proxy.enable %&#125;</span><br><span class=line>          &lt;script type=<span class=string>"text/javascript"</span>&gt;</span><br><span class=line>              <span class=built_in>window</span>.disqusProxy = &#123;</span><br><span class=line>                username: <span class=string>'&#123;&#123; theme.disqus_proxy.username &#125;&#125;'</span>,</span><br><span class=line>                server: <span class=string>'&#123;&#123; theme.disqus_proxy.server &#125;&#125;'</span>,</span><br><span class=line>                port: <span class=string>'&#123;&#123; theme.disqus_proxy.port &#125;&#125;'</span>,</span><br><span class=line>                defaultAvatar: <span class=string>'&#123;&#123; theme.disqus_proxy.defaultAvatar &#125;&#125;'</span>,</span><br><span class=line>                adminAvatar: <span class=string>'&#123;&#123; theme.disqus_proxy.adminAvatar &#125;&#125;'</span>,</span><br><span class=line>                identifier: <span class=string>'&#123;&#123; page.path &#125;&#125;'</span></span><br><span class=line>              &#125;;</span><br><span class=line>              <span class=built_in>window</span>.disqus_config = <span class=function><span class=keyword>function</span> (<span class=params></span>) </span>&#123;</span><br><span class=line>                <span class=keyword>this</span>.page.url = <span class=string>'&#123;&#123; page.permalink &#125;&#125;'</span>;</span><br><span class=line>                <span class=keyword>this</span>.page.identifier = <span class=string>'&#123;&#123; page.path &#125;&#125;'</span>;</span><br><span class=line>              &#125;;</span><br><span class=line>              <span class=built_in>window</span>.onload=<span class=function><span class=keyword>function</span>(<span class=params></span>)</span>&#123;</span><br><span class=line>                <span class=keyword>var</span> s = <span class=built_in>document</span>.createElement(<span class=string>'script'</span>);</span><br><span class=line>                s.src = <span class=string>"&#123;&#123; theme.disqus_proxy.js &#125;&#125;"</span>;</span><br><span class=line>                s.async = <span class=literal>true</span>;</span><br><span class=line>                <span class=built_in>document</span>.body.appendChild(s);</span><br><span class=line>              &#125;</span><br><span class=line>          &lt;<span class=regexp>/script&gt;</span></span><br><span class=line><span class=regexp>          &lt;link rel="stylesheet" href="&#123;&#123; theme.disqus_proxy.css &#125;&#125;"&gt;</span></span><br><span class=line><span class=regexp>      &#123;% endif %&#125;</span></span><br></pre></table></figure><p>渲染效果:<br><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br></pre><td class=code><pre><span class=line><span class=tag>&lt;<span class=name>div</span> <span class=attr>id</span>=<span class=string>"disqus_proxy_thread"</span>&gt;</span><span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br><span class=line><span class=tag>&lt;<span class=name>div</span> <span class=attr>id</span>=<span class=string>"disqus_thread"</span>&gt;</span><span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br><span class=line><span class=tag>&lt;<span class=name>script</span> <span class=attr>type</span>=<span class=string>"text/javascript"</span>&gt;</span></span><br><span class=line><span class=javascript>  <span class=built_in>window</span>.disqusProxy = &#123;</span></span><br><span class=line><span class=javascript>    username: <span class=string>'ookamiantd'</span>,</span></span><br><span class=line><span class=javascript>    server: <span class=string>'disqus-proxy.yangbingdong.com'</span>,</span></span><br><span class=line><span class=javascript>    port: <span class=string>'5509'</span>,</span></span><br><span class=line><span class=javascript>    defaultAvatar: <span class=string>'/images/avatar/avatar-default.jpg'</span>,</span></span><br><span class=line><span class=javascript>    adminAvatar: <span class=string>'/images/avatar/avatar-admin.jpg'</span>,</span></span><br><span class=line><span class=javascript>    identifier: <span class=string>'2017/disqus-proxy/'</span></span></span><br><span class=line>  &#125;;</span><br><span class=line><span class=javascript>  <span class=built_in>window</span>.disqus_config = <span class=function><span class=keyword>function</span> (<span class=params></span>) </span>&#123;</span></span><br><span class=line><span class=javascript>    <span class=keyword>this</span>.page.url = <span class=string>'http://ookamiantd.top/2017/disqus-proxy/'</span>;</span></span><br><span class=line><span class=javascript>    <span class=keyword>this</span>.page.identifier = <span class=string>'2017/disqus-proxy/'</span>;</span></span><br><span class=line>  &#125;;</span><br><span class=line><span class=javascript>  <span class=built_in>window</span>.onload = <span class=function><span class=keyword>function</span> (<span class=params></span>) </span>&#123;</span></span><br><span class=line><span class=javascript>    <span class=keyword>var</span> s = <span class=built_in>document</span>.createElement(<span class=string>'script'</span>);</span></span><br><span class=line><span class=javascript>    s.src = <span class=string>"/static/js/main.0d0338ae.js"</span>;</span></span><br><span class=line><span class=javascript>    s.async = <span class=literal>true</span>;</span></span><br><span class=line><span class=javascript>    <span class=built_in>document</span>.body.appendChild(s);</span></span><br><span class=line>  &#125;</span><br><span class=line><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span><br><span class=line><span class=tag>&lt;<span class=name>link</span> <span class=attr>rel</span>=<span class=string>"stylesheet"</span> <span class=attr>href</span>=<span class=string>"/static/css/main.0603c539.css"</span>&gt;</span></span><br></pre></table></figure><h4 id=custom-styl><a href=#custom-styl class=headerlink title=custom.styl></a>custom.styl</h4><p>可能由于改过样式还是本来就不兼容, 评论框一开始显示不出来, <em><a href=https://ycwalker.com/ rel="external nofollow noopener noreferrer" target=_blank>ciqulover</a></em>大神帮我加了个样式之后就好了.<p>在<code>/next/source/css/_custom/custom.styl</code>中添加:<br><figure class="highlight css"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line><span class=selector-id>#disqus_proxy_thread</span> <span class=selector-class>.post</span>&#123;</span><br><span class=line>  <span class=attribute>opacity</span>: <span class=number>1</span> <span class=meta>!important</span>;</span><br><span class=line>  <span class=attribute>box-shadow</span>: none <span class=meta>!important</span>;</span><br><span class=line>  <span class=attribute>-webkit-box-shadow</span>: none <span class=meta>!important</span>;</span><br><span class=line>&#125;</span><br></pre></table></figure><p>博主也对评论框乱入了一些样式例如头像旋转…具体请看<strong><em><a href=/static/css/main.0603c539.css>main.0603c539.css</a></em></strong><h3 id=Problem><a href=#Problem class=headerlink title=Problem></a>Problem</h3><p>博主使用了<code>hexo-all-minifier</code>进行静态文件压缩, 不明原因导致那两个评论框的js和css压缩之后会报错, 所以对压缩选项作设置, 在<strong>站点配置文件</strong>中添加:<br><figure class="highlight yaml"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br></pre><td class=code><pre><span class=line><span class=attr>html_minifier:</span></span><br><span class=line>  <span class=attr>enable:</span> <span class=literal>true</span></span><br><span class=line>  <span class=attr>exclude:</span> </span><br><span class=line></span><br><span class=line><span class=attr>css_minifier:</span></span><br><span class=line>  <span class=attr>enable:</span> <span class=literal>true</span></span><br><span class=line>  <span class=attr>exclude:</span> </span><br><span class=line>    <span class=bullet>-</span> <span class=string>'/home/ybd/GitRepo/blog/themes/next/source/static/css/main.0603c539.css'</span></span><br><span class=line></span><br><span class=line><span class=attr>js_minifier:</span></span><br><span class=line>  <span class=attr>enable:</span> <span class=literal>true</span></span><br><span class=line>  <span class=attr>mangle:</span> <span class=literal>true</span></span><br><span class=line>  <span class=attr>output:</span></span><br><span class=line>  <span class=attr>compress:</span></span><br><span class=line>  <span class=attr>exclude:</span> </span><br><span class=line>    <span class=bullet>-</span> <span class=string>'/home/ybd/GitRepo/blog/themes/next/source/static/js/*.*.js'</span></span><br><span class=line></span><br><span class=line><span class=attr>image_minifier:</span></span><br><span class=line>  <span class=attr>enable:</span> <span class=literal>true</span></span><br><span class=line>  <span class=attr>interlaced:</span> <span class=literal>false</span></span><br><span class=line>  <span class=attr>multipass:</span> <span class=literal>false</span></span><br><span class=line>  <span class=attr>optimizationLevel:</span> <span class=number>2</span></span><br><span class=line>  <span class=attr>pngquant:</span> <span class=literal>false</span></span><br><span class=line>  <span class=attr>progressive:</span> <span class=literal>false</span></span><br></pre></table></figure><h3 id=Show><a href=#Show class=headerlink title=Show></a>Show</h3><p>这是翻墙状态:<br><img src=https://cdn.yangbingdong.com/img/disqus-proxy/comment02.png alt><br>这是<code>disqus_proxy</code>:<br><img src=https://cdn.yangbingdong.com/img/disqus-proxy/comment01.png alt><h2 id=修改文章页宽><a href=#修改文章页宽 class=headerlink title=修改文章页宽></a>修改文章页宽</h2><p>打开<code>themes/next/source/css/_variables/base.styl</code>, 找到以下字段并修改为合适的宽度:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>$content-desktop-large = 1000px</span><br></pre></table></figure><h2 id=修改小型代码块颜色><a href=#修改小型代码块颜色 class=headerlink title=修改小型代码块颜色></a>修改小型代码块颜色</h2><p>修改<code>\themes\next\source\css\ _variables\base.styl</code>文件, 加入自定义颜色:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre><td class=code><pre><span class=line>$black-deep   = #222</span><br><span class=line>$red          = #ff2a2a</span><br><span class=line>$blue-bright  = #87daff</span><br><span class=line>$blue         = #0684bd</span><br><span class=line>$blue-deep    = #262a30</span><br><span class=line>$orange       = #fc6423</span><br><span class=line>// 下面是我自定义的颜色</span><br><span class=line>$my-code-foreground = #dd0055  // 用``围出的代码块字体颜色</span><br><span class=line>$my-code-background = #eee  // 用``围出的代码块背景颜色</span><br></pre></table></figure><p>修改<code>$code-background</code>和<code>$code-foreground</code>的值:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre><td class=code><pre><span class=line>// Code &amp; Code Blocks // 用``围出的代码块 // -------------------------------------------------- </span><br><span class=line>$code-font-family               = $font-family-monospace </span><br><span class=line>$code-font-size                 = 15px </span><br><span class=line>$code-background                = $my-code-background </span><br><span class=line>$code-foreground                = $my-code-foreground </span><br><span class=line>$code-border-radius             = 4px</span><br></pre></table></figure><h2 id=文章末尾追加版权信息><a href=#文章末尾追加版权信息 class=headerlink title=文章末尾追加版权信息></a>文章末尾追加版权信息</h2><p>找到<code>themes/next/layout/_macro/post.swig</code>, 在<code>footer</code>之前添加如下代码(添加之前确保已添加<strong><em><a href=#%E5%A5%BD%E7%8E%A9%E7%9A%84%E6%A0%B7%E5%BC%8F>样式</a></em></strong>):<br><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre><td class=code><pre><span class=line><span class=tag>&lt;<span class=name>div</span>&gt;</span></span><br><span class=line>	    <span class=tag>&lt;<span class=name>p</span> <span class=attr>id</span>=<span class=string>"div-border-left-red"</span>&gt;</span></span><br><span class=line>	   <span class=tag>&lt;<span class=name>b</span>&gt;</span>本文基于<span class=tag>&lt;<span class=name>a</span> <span class=attr>target</span>=<span class=string>"_blank"</span> <span class=attr>title</span>=<span class=string>"Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)"</span> <span class=attr>href</span>=<span class=string>"http://creativecommons.org/licenses/by-sa/4.0/"</span>&gt;</span> 知识共享署名-相同方式共享 4.0 <span class=tag>&lt;/<span class=name>a</span>&gt;</span>国际许可协议发布<span class=tag>&lt;/<span class=name>b</span>&gt;</span><span class=tag>&lt;<span class=name>br</span>/&gt;</span></span><br><span class=line>	    <span class=tag>&lt;<span class=name>span</span>&gt;</span></span><br><span class=line>	    <span class=tag>&lt;<span class=name>b</span>&gt;</span>本文地址: <span class=tag>&lt;/<span class=name>b</span>&gt;</span><span class=tag>&lt;<span class=name>a</span> <span class=attr>href</span>=<span class=string>"&#123;&#123; url_for(page.path) &#125;&#125;"</span> <span class=attr>title</span>=<span class=string>"&#123;&#123; page.title &#125;&#125;"</span>&gt;</span>&#123;&#123; page.permalink &#125;&#125;<span class=tag>&lt;/<span class=name>a</span>&gt;</span><span class=tag>&lt;<span class=name>br</span>/&gt;</span><span class=tag>&lt;<span class=name>b</span>&gt;</span>转载请注明出处, 谢谢！<span class=tag>&lt;/<span class=name>b</span>&gt;</span></span><br><span class=line>	    <span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br><span class=line>	    <span class=tag>&lt;/<span class=name>p</span>&gt;</span></span><br><span class=line><span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br></pre></table></figure><h2 id=添加文章结束标记><a href=#添加文章结束标记 class=headerlink title=添加文章结束标记></a>添加文章结束标记</h2><p>同样在<code>themes/next/layout/_macro/post.swig</code>中, 在<code>wechat-subscriber.swig</code>之前添加如下代码:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>&lt;div style=&quot;text-align:center;color: #ccc;font-size:14px;&quot;&gt;---------------- The End ----------------&lt;/div&gt;</span><br></pre></table></figure><h2 id=添加热度><a href=#添加热度 class=headerlink title=添加热度></a>添加热度</h2><p>在<code>/themes/hexo-theme-next/layout/_macro/post.swig</code>里面的下面的位置加上如下代码:<br><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br></pre><td class=code><pre><span class=line>&#123;% if post.categories and post.categories.length %&#125;</span><br><span class=line>        <span class=tag>&lt;<span class=name>span</span> <span class=attr>class</span>=<span class=string>"post-category"</span> &gt;</span></span><br><span class=line>        <span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br><span class=line>      &#123;% endif %&#125;</span><br><span class=line></span><br><span class=line> <span class=comment>&lt;!-- 在下面的位置加上如下代码 --&gt;</span></span><br><span class=line>      <span class=tag>&lt;<span class=name>span</span> <span class=attr>id</span>=<span class=string>"busuanzi_container_page_pv"</span>&gt;</span></span><br><span class=line>      <span class=symbol>&amp;nbsp;</span> | <span class=symbol>&amp;nbsp;</span> 热度<span class=symbol>&amp;nbsp;</span> <span class=tag>&lt;<span class=name>span</span> <span class=attr>id</span>=<span class=string>"busuanzi_value_page_pv"</span>&gt;</span><span class=tag>&lt;/<span class=name>span</span>&gt;</span>°C</span><br><span class=line>      <span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br><span class=line>  <span class=comment>&lt;!-- 在上面的位置加上如上代码 --&gt;</span>    </span><br><span class=line>  </span><br><span class=line>      &#123;% if post.comments %&#125;</span><br><span class=line>        &#123;% if (theme.duoshuo and theme.duoshuo.shortname) or theme.duoshuo_shortname %&#125;</span><br><span class=line>          <span class=tag>&lt;<span class=name>span</span> <span class=attr>class</span>=<span class=string>"post-comments-count"</span>&gt;</span></span><br><span class=line>            <span class=symbol>&amp;nbsp;</span> | <span class=symbol>&amp;nbsp;</span></span><br><span class=line>            <span class=tag>&lt;<span class=name>a</span> <span class=attr>href</span>=<span class=string>"&#123;&#123; url_for(post.path) &#125;&#125;#comments"</span> <span class=attr>itemprop</span>=<span class=string>"discussionUrl"</span>&gt;</span></span><br><span class=line>              <span class=tag>&lt;<span class=name>span</span> <span class=attr>class</span>=<span class=string>"post-comments-count ds-thread-count"</span> <span class=attr>data-thread-key</span>=<span class=string>"&#123;&#123; post.path &#125;&#125;"</span> <span class=attr>itemprop</span>=<span class=string>"commentsCount"</span>&gt;</span><span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br><span class=line>            <span class=tag>&lt;/<span class=name>a</span>&gt;</span></span><br><span class=line>          <span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br></pre></table></figure><p>但是这有一个<strong>缺陷</strong>. 就是我们会发现在主页时显示的热度和进入博客后的热度不一样, 那是因为在主页时他显示的是主页这个页面的阅读量, 而不是博客的阅读量, 所以我们需要改变一些:<p>我们在<code>/themes/hexo-theme-next/layout/_macro/</code>目录下新建<code>post-article.swig</code>,把这些<code>post.swig</code>中的内容复制过去, 而且加上上面的统计代码, 然后在<code>/themes/hexo-theme-next/layout/post.swig</code>上面<code>% import &#39;_macro/post.swig&#39; as post_template %</code>中的<code>post.swig</code>改成<code>post-article.swig</code>, 这样子就解决啦. 就是在主页上的博客名字下面不会有阅读人数, 进入博客才能看见<h2 id=添加Fork-me-on-GitHub><a href=#添加Fork-me-on-GitHub class=headerlink title="添加Fork me on GitHub"></a>添加Fork me on GitHub</h2><p>去网址<em><a href=https://github.com/blog/273-github-ribbons rel="external nofollow noopener noreferrer" target=_blank>https://github.com/blog/273-github-ribbons</a></em>挑选自己喜欢的样式, 并复制代码, 添加到<code>themes\next\layout\_layout.swig</code>的<code>body</code>标签之内即可<br><strong>记得把里面的url换成自己的!</strong><h2 id=把侧边栏头像变成圆形-并且鼠标停留在上面发生旋转效果><a href=#把侧边栏头像变成圆形-并且鼠标停留在上面发生旋转效果 class=headerlink title="把侧边栏头像变成圆形, 并且鼠标停留在上面发生旋转效果"></a>把侧边栏头像变成圆形, 并且鼠标停留在上面发生旋转效果</h2><p>﻿修改<code>themes\next\source\css\_common\components\sidebar\sidebar-author.styl</code>:<br><figure class="highlight css"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br></pre><td class=code><pre><span class=line><span class=selector-class>.site-author-image</span> &#123;</span><br><span class=line></span><br><span class=line>  <span class=attribute>display</span>: block;</span><br><span class=line>  <span class=attribute>margin</span>: <span class=number>0</span> auto;</span><br><span class=line>  <span class=attribute>padding</span>: $site-author-image-padding;</span><br><span class=line>  <span class=attribute>max-width</span>: $site-author-image-width;</span><br><span class=line>  <span class=attribute>height</span>: $site-author-image-height;</span><br><span class=line>  <span class=attribute>border</span>: site-author-image-border-color;</span><br><span class=line></span><br><span class=line>  <span class=comment>/* start*/</span></span><br><span class=line>  <span class=attribute>border-radius</span>: <span class=number>50%</span></span><br><span class=line>  webkit-transition: <span class=number>1.4s</span> all;</span><br><span class=line>  <span class=attribute>moz-transition</span>: <span class=number>1.4s</span> all;</span><br><span class=line>  <span class=attribute>ms-transition</span>: <span class=number>1.4s</span> all;</span><br><span class=line>  <span class=attribute>transition</span>: <span class=number>1.4s</span> all;</span><br><span class=line>  <span class=comment>/* end */</span></span><br><span class=line></span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=comment>/* start */</span></span><br><span class=line><span class=selector-class>.site-author-image</span><span class=selector-pseudo>:hover</span> &#123;</span><br><span class=line></span><br><span class=line>  <span class=attribute>background-color</span>: <span class=number>#55DAE1</span>;</span><br><span class=line>  <span class=attribute>webkit-transform</span>: <span class=built_in>rotate</span>(<span class=number>360deg</span>) <span class=built_in>scale</span>(<span class=number>1.1</span>);</span><br><span class=line>  <span class=attribute>moz-transform</span>: <span class=built_in>rotate</span>(<span class=number>360deg</span>) <span class=built_in>scale</span>(<span class=number>1.1</span>);</span><br><span class=line>  <span class=attribute>ms-transform</span>: <span class=built_in>rotate</span>(<span class=number>360deg</span>) <span class=built_in>scale</span>(<span class=number>1.1</span>);</span><br><span class=line>  <span class=attribute>transform</span>: <span class=built_in>rotate</span>(<span class=number>360deg</span>) <span class=built_in>scale</span>(<span class=number>1.1</span>);</span><br><span class=line>&#125;</span><br><span class=line><span class=comment>/* end */</span></span><br></pre></table></figure><h2 id=修改链接文字样式><a href=#修改链接文字样式 class=headerlink title=修改链接文字样式></a>修改链接文字样式</h2><p>打开<code>themes\next\source\css\_common\components\post\post.styl</code>添加以下代码:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br></pre><td class=code><pre><span class=line>.post-body p a&#123;</span><br><span class=line></span><br><span class=line> color: #0593d3;</span><br><span class=line> border-bottom: none;</span><br><span class=line> &amp;:hover &#123;</span><br><span class=line>   color: #ff106c;</span><br><span class=line>   text-decoration: underline;</span><br><span class=line> &#125;</span><br><span class=line></span><br><span class=line>&#125;</span><br></pre></table></figure><p><code>themes/next/source/css/_common/components/post/post-title.styl</code>修改为:<figure class="highlight stylus"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre><td class=code><pre><span class=line><span class=selector-class>.posts-expand</span> <span class=selector-class>.post-title-link</span> &#123;</span><br><span class=line></span><br><span class=line>  <span class=attribute>display</span>: inline-block;</span><br><span class=line>  <span class=attribute>border-bottom</span>: none;</span><br><span class=line>  <span class=attribute>line-height</span>: <span class=number>1.2</span>;</span><br><span class=line>  <span class=attribute>vertical-align</span>: top;</span><br><span class=line></span><br><span class=line>  &amp;::before &#123;</span><br><span class=line>  ......</span><br></pre></table></figure><h2 id=为next主题的主页文章添加阴影效果><a href=#为next主题的主页文章添加阴影效果 class=headerlink title=为next主题的主页文章添加阴影效果></a>为next主题的主页文章添加阴影效果</h2><p>打开<code>themes/next/source/css/_custom/custom.styl</code>文件添加:<br><figure class="highlight css"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=selector-class>.post</span> &#123;</span><br><span class=line>  <span class=attribute>margin-top</span>: <span class=number>60px</span>;</span><br><span class=line>  <span class=attribute>margin-bottom</span>: <span class=number>60px</span>;</span><br><span class=line>  <span class=attribute>padding</span>: <span class=number>25px</span>;</span><br><span class=line>  <span class=attribute>-webkit-box-shadow</span>: <span class=number>0</span> <span class=number>0</span> <span class=number>5px</span> <span class=built_in>rgba</span>(<span class=number>202</span>, <span class=number>203</span>, <span class=number>203</span>, .<span class=number>5</span>);</span><br><span class=line>  <span class=attribute>-moz-box-shadow</span>: <span class=number>0</span> <span class=number>0</span> <span class=number>5px</span> <span class=built_in>rgba</span>(<span class=number>202</span>, <span class=number>203</span>, <span class=number>204</span>, .<span class=number>5</span>);</span><br><span class=line> &#125;</span><br></pre></table></figure><h2 id=为next主题添加nest背景特效><a href=#为next主题添加nest背景特效 class=headerlink title=为next主题添加nest背景特效></a>为next主题添加nest背景特效</h2><p>背景的几何线条是采用的<code>nest</code>效果, 一个基于<code>html5 canvas</code>绘制的网页背景效果, 非常赞！来自github的开源项目<code>canvas-nest</code><h3 id=特性><a href=#特性 class=headerlink title=特性></a>特性</h3><ul><li>不依赖任何框架或者内库, 比如不依赖jQuery, 使用原生的javascript.<li>非常小, 只有1.66kb, 如果开启gzip, 可以更小.<li>非常容易实现, 配置简单, 即使你不是web开发者, 也能简单搞定.</ul><p>使用非常简单<ul><li><code>color</code>: 线条颜色, 默认: ‘0,0,0’ ；三个数字分别为(R,G,B), 注意用,分割<li><code>opacity</code>: 线条透明度（0~1）, 默认: 0.5<li><code>count</code>: 线条的总数量, 默认: 150<li><code>zIndex</code>: 背景的z-index属性, css属性用于控制所在层的位置, 默认: -1</ul><p>eg :<figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line><span class=tag>&lt;<span class=name>script</span> <span class=attr>type</span>=<span class=string>"text/javascript"</span> <span class=attr>color</span>=<span class=string>"255,132,0"</span> <span class=attr>opacity</span>=<span class=string>'0.6'</span> <span class=attr>zIndex</span>=<span class=string>"-2"</span> <span class=attr>count</span>=<span class=string>"99"</span> <span class=attr>src</span>=<span class=string>"//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"</span>&gt;</span><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span><br></pre></table></figure><p>不足: CPU占用过高<h3 id=如何添加><a href=#如何添加 class=headerlink title=如何添加?></a>如何添加?</h3><h4 id=修改代码><a href=#修改代码 class=headerlink title=修改代码></a>修改代码</h4><p>打开<code>next/layout/_layout.swig</code>, 在<code>&lt;/body&gt;</code>之前添加如下代码:<br><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line>&#123;% if theme.canvas_nest %&#125;</span><br><span class=line></span><br><span class=line><span class=tag>&lt;<span class=name>script</span> <span class=attr>type</span>=<span class=string>"text/javascript"</span> <span class=attr>src</span>=<span class=string>"//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"</span>&gt;</span><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span><br><span class=line></span><br><span class=line>&#123;% endif %&#125;</span><br></pre></table></figure><h4 id=修改主题配置文件><a href=#修改主题配置文件 class=headerlink title=修改主题配置文件></a>修改主题配置文件</h4><p>打开<code>/next/_config.yml</code>, 添加以下代码:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre><td class=code><pre><span class=line># --------------------------------------------------------------</span><br><span class=line># background settings</span><br><span class=line># --------------------------------------------------------------</span><br><span class=line># add canvas-nest effect</span><br><span class=line># see detail from https://github.com/hustcc/canvas-nest.js</span><br><span class=line>canvas_nest: true</span><br></pre></table></figure><p>至此, 大功告成, 运行hexo clean 和 hexo g hexo s之后就可以看到效果了<h2 id=鼠标点击爆炸特效><a href=#鼠标点击爆炸特效 class=headerlink title=鼠标点击爆炸特效></a>鼠标点击爆炸特效</h2><p><img src=https://cdn.yangbingdong.com/img/build-hexo/hexo-next-click-boom.png alt><p>在 <code>themes/next/source/js/src</code> 新建js文件 <code>fireworks.js</code>:<figure class="highlight js"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br><span class=line>123</span><br><span class=line>124</span><br><span class=line>125</span><br><span class=line>126</span><br></pre><td class=code><pre><span class=line><span class=meta>"use strict"</span>;</span><br><span class=line><span class=function><span class=keyword>function</span> <span class=title>updateCoords</span>(<span class=params>e</span>) </span>&#123;</span><br><span class=line>    pointerX = (e.clientX || e.touches[<span class=number>0</span>].clientX) - canvasEl.getBoundingClientRect().left,</span><br><span class=line>    pointerY = e.clientY || e.touches[<span class=number>0</span>].clientY - canvasEl.getBoundingClientRect().top</span><br><span class=line>&#125;</span><br><span class=line><span class=function><span class=keyword>function</span> <span class=title>setParticuleDirection</span>(<span class=params>e</span>) </span>&#123;</span><br><span class=line>    <span class=keyword>var</span> t = anime.random(<span class=number>0</span>, <span class=number>360</span>) * <span class=built_in>Math</span>.PI / <span class=number>180</span>,</span><br><span class=line>    a = anime.random(<span class=number>50</span>, <span class=number>180</span>),</span><br><span class=line>    n = [ - <span class=number>1</span>, <span class=number>1</span>][anime.random(<span class=number>0</span>, <span class=number>1</span>)] * a;</span><br><span class=line>    <span class=keyword>return</span> &#123;</span><br><span class=line>        x: e.x + n * <span class=built_in>Math</span>.cos(t),</span><br><span class=line>        y: e.y + n * <span class=built_in>Math</span>.sin(t)</span><br><span class=line>    &#125;</span><br><span class=line>&#125;</span><br><span class=line><span class=function><span class=keyword>function</span> <span class=title>createParticule</span>(<span class=params>e, t</span>) </span>&#123;</span><br><span class=line>    <span class=keyword>var</span> a = &#123;&#125;;</span><br><span class=line>    <span class=keyword>return</span> a.x = e,</span><br><span class=line>    a.y = t,</span><br><span class=line>    a.color = colors[anime.random(<span class=number>0</span>, colors.length - <span class=number>1</span>)],</span><br><span class=line>    a.radius = anime.random(<span class=number>16</span>, <span class=number>32</span>),</span><br><span class=line>    a.endPos = setParticuleDirection(a),</span><br><span class=line>    a.draw = <span class=function><span class=keyword>function</span>(<span class=params></span>) </span>&#123;</span><br><span class=line>        ctx.beginPath(),</span><br><span class=line>        ctx.arc(a.x, a.y, a.radius, <span class=number>0</span>, <span class=number>2</span> * <span class=built_in>Math</span>.PI, !<span class=number>0</span>),</span><br><span class=line>        ctx.fillStyle = a.color,</span><br><span class=line>        ctx.fill()</span><br><span class=line>    &#125;,</span><br><span class=line>    a</span><br><span class=line>&#125;</span><br><span class=line><span class=function><span class=keyword>function</span> <span class=title>createCircle</span>(<span class=params>e, t</span>) </span>&#123;</span><br><span class=line>    <span class=keyword>var</span> a = &#123;&#125;;</span><br><span class=line>    <span class=keyword>return</span> a.x = e,</span><br><span class=line>    a.y = t,</span><br><span class=line>    a.color = <span class=string>"#F00"</span>,</span><br><span class=line>    a.radius = <span class=number>0.1</span>,</span><br><span class=line>    a.alpha = <span class=number>0.5</span>,</span><br><span class=line>    a.lineWidth = <span class=number>6</span>,</span><br><span class=line>    a.draw = <span class=function><span class=keyword>function</span>(<span class=params></span>) </span>&#123;</span><br><span class=line>        ctx.globalAlpha = a.alpha,</span><br><span class=line>        ctx.beginPath(),</span><br><span class=line>        ctx.arc(a.x, a.y, a.radius, <span class=number>0</span>, <span class=number>2</span> * <span class=built_in>Math</span>.PI, !<span class=number>0</span>),</span><br><span class=line>        ctx.lineWidth = a.lineWidth,</span><br><span class=line>        ctx.strokeStyle = a.color,</span><br><span class=line>        ctx.stroke(),</span><br><span class=line>        ctx.globalAlpha = <span class=number>1</span></span><br><span class=line>    &#125;,</span><br><span class=line>    a</span><br><span class=line>&#125;</span><br><span class=line><span class=function><span class=keyword>function</span> <span class=title>renderParticule</span>(<span class=params>e</span>) </span>&#123;</span><br><span class=line>    <span class=keyword>for</span> (<span class=keyword>var</span> t = <span class=number>0</span>; t &lt; e.animatables.length; t++) &#123;</span><br><span class=line>        e.animatables[t].target.draw()</span><br><span class=line>    &#125;</span><br><span class=line>&#125;</span><br><span class=line><span class=function><span class=keyword>function</span> <span class=title>animateParticules</span>(<span class=params>e, t</span>) </span>&#123;</span><br><span class=line>    <span class=keyword>for</span> (<span class=keyword>var</span> a = createCircle(e, t), n = [], i = <span class=number>0</span>; i &lt; numberOfParticules; i++) &#123;</span><br><span class=line>        n.push(createParticule(e, t))</span><br><span class=line>    &#125;</span><br><span class=line>    anime.timeline().add(&#123;</span><br><span class=line>        targets: n,</span><br><span class=line>        x: <span class=function><span class=keyword>function</span>(<span class=params>e</span>) </span>&#123;</span><br><span class=line>            <span class=keyword>return</span> e.endPos.x</span><br><span class=line>        &#125;,</span><br><span class=line>        y: <span class=function><span class=keyword>function</span>(<span class=params>e</span>) </span>&#123;</span><br><span class=line>            <span class=keyword>return</span> e.endPos.y</span><br><span class=line>        &#125;,</span><br><span class=line>        radius: <span class=number>0.1</span>,</span><br><span class=line>        duration: anime.random(<span class=number>1200</span>, <span class=number>1800</span>),</span><br><span class=line>        easing: <span class=string>"easeOutExpo"</span>,</span><br><span class=line>        update: renderParticule</span><br><span class=line>    &#125;).add(&#123;</span><br><span class=line>        targets: a,</span><br><span class=line>        radius: anime.random(<span class=number>80</span>, <span class=number>160</span>),</span><br><span class=line>        lineWidth: <span class=number>0</span>,</span><br><span class=line>        alpha: &#123;</span><br><span class=line>            value: <span class=number>0</span>,</span><br><span class=line>            easing: <span class=string>"linear"</span>,</span><br><span class=line>            duration: anime.random(<span class=number>600</span>, <span class=number>800</span>)</span><br><span class=line>        &#125;,</span><br><span class=line>        duration: anime.random(<span class=number>1200</span>, <span class=number>1800</span>),</span><br><span class=line>        easing: <span class=string>"easeOutExpo"</span>,</span><br><span class=line>        update: renderParticule,</span><br><span class=line>        offset: <span class=number>0</span></span><br><span class=line>    &#125;)</span><br><span class=line>&#125;</span><br><span class=line><span class=function><span class=keyword>function</span> <span class=title>debounce</span>(<span class=params>e, t</span>) </span>&#123;</span><br><span class=line>    <span class=keyword>var</span> a;</span><br><span class=line>    <span class=keyword>return</span> <span class=function><span class=keyword>function</span>(<span class=params></span>) </span>&#123;</span><br><span class=line>        <span class=keyword>var</span> n = <span class=keyword>this</span>,</span><br><span class=line>        i = <span class=built_in>arguments</span>;</span><br><span class=line>        clearTimeout(a),</span><br><span class=line>        a = setTimeout(<span class=function><span class=keyword>function</span>(<span class=params></span>) </span>&#123;</span><br><span class=line>            e.apply(n, i)</span><br><span class=line>        &#125;,</span><br><span class=line>        t)</span><br><span class=line>    &#125;</span><br><span class=line>&#125;</span><br><span class=line><span class=keyword>var</span> canvasEl = <span class=built_in>document</span>.querySelector(<span class=string>".fireworks"</span>);</span><br><span class=line><span class=keyword>if</span> (canvasEl) &#123;</span><br><span class=line>    <span class=keyword>var</span> ctx = canvasEl.getContext(<span class=string>"2d"</span>),</span><br><span class=line>    numberOfParticules = <span class=number>30</span>,</span><br><span class=line>    pointerX = <span class=number>0</span>,</span><br><span class=line>    pointerY = <span class=number>0</span>,</span><br><span class=line>    tap = <span class=string>"mousedown"</span>,</span><br><span class=line>    colors = [<span class=string>"#FF1461"</span>, <span class=string>"#18FF92"</span>, <span class=string>"#5A87FF"</span>, <span class=string>"#FBF38C"</span>],</span><br><span class=line>    setCanvasSize = debounce(<span class=function><span class=keyword>function</span>(<span class=params></span>) </span>&#123;</span><br><span class=line>        canvasEl.width = <span class=number>2</span> * <span class=built_in>window</span>.innerWidth,</span><br><span class=line>        canvasEl.height = <span class=number>2</span> * <span class=built_in>window</span>.innerHeight,</span><br><span class=line>        canvasEl.style.width = <span class=built_in>window</span>.innerWidth + <span class=string>"px"</span>,</span><br><span class=line>        canvasEl.style.height = <span class=built_in>window</span>.innerHeight + <span class=string>"px"</span>,</span><br><span class=line>        canvasEl.getContext(<span class=string>"2d"</span>).scale(<span class=number>2</span>, <span class=number>2</span>)</span><br><span class=line>    &#125;,</span><br><span class=line>    <span class=number>500</span>),</span><br><span class=line>    render = anime(&#123;</span><br><span class=line>        duration: <span class=number>1</span> / <span class=number>0</span>,</span><br><span class=line>        update: <span class=function><span class=keyword>function</span>(<span class=params></span>) </span>&#123;</span><br><span class=line>            ctx.clearRect(<span class=number>0</span>, <span class=number>0</span>, canvasEl.width, canvasEl.height)</span><br><span class=line>        &#125;</span><br><span class=line>    &#125;);</span><br><span class=line>    <span class=built_in>document</span>.addEventListener(tap,</span><br><span class=line>    <span class=function><span class=keyword>function</span>(<span class=params>e</span>) </span>&#123;</span><br><span class=line>        <span class=string>"sidebar"</span> !== e.target.id &amp;&amp; <span class=string>"toggle-sidebar"</span> !== e.target.id &amp;&amp; <span class=string>"A"</span> !== e.target.nodeName &amp;&amp; <span class=string>"IMG"</span> !== e.target.nodeName &amp;&amp; (render.play(), updateCoords(e), animateParticules(pointerX, pointerY))</span><br><span class=line>    &#125;,</span><br><span class=line>    !<span class=number>1</span>),</span><br><span class=line>    setCanvasSize(),</span><br><span class=line>    <span class=built_in>window</span>.addEventListener(<span class=string>"resize"</span>, setCanvasSize, !<span class=number>1</span>)</span><br><span class=line>&#125;;</span><br></pre></table></figure><p>打开<code>themes/next/layout/_layout.swig</code>,在<code>&lt;/body&gt;</code>上面写下如下代码:<figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line><span class=tag>&lt;<span class=name>canvas</span> <span class=attr>class</span>=<span class=string>"fireworks"</span> <span class=attr>style</span>=<span class=string>"position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"</span> &gt;</span><span class=tag>&lt;/<span class=name>canvas</span>&gt;</span> </span><br><span class=line><span class=tag>&lt;<span class=name>script</span> <span class=attr>type</span>=<span class=string>"text/javascript"</span> <span class=attr>src</span>=<span class=string>"//cdn.bootcss.com/animejs/2.2.0/anime.min.js"</span>&gt;</span><span class=tag>&lt;/<span class=name>script</span>&gt;</span> </span><br><span class=line><span class=tag>&lt;<span class=name>script</span> <span class=attr>type</span>=<span class=string>"text/javascript"</span> <span class=attr>src</span>=<span class=string>"/js/src/fireworks.js"</span>&gt;</span><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span><br></pre></table></figure><h2 id=添加音乐><a href=#添加音乐 class=headerlink title=添加音乐></a>添加音乐</h2><p>去往<em><a href=http://music.163.com/ rel="external nofollow noopener noreferrer" target=_blank>网易云音乐</a></em>搜索喜欢的音乐, 点击生成外链播放器, 复制代码直接放到博文末尾即可, <code>height</code>设为0可隐藏播放器, 但仍然可以播放音乐, <code>auto</code>设成0可手动播放, 默认是1自动播放, 可把代码放到<code>themes/next/layout/_custom/sidebar.swig</code>文件里, 播放器会显示在站点预览中<h2 id=添加注脚><a href=#添加注脚 class=headerlink title=添加注脚></a>添加注脚</h2><p>安装插件:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>npm install hexo-reference --save</span><br></pre></table></figure><p>用法如下:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>this is a basic footnote[/^1] ##用的时候把/去掉</span><br></pre></table></figure><p>在文章末尾添加:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>[/^1]: basic footnote content ##用的时候把/去掉</span><br></pre></table></figure><p>eg:this is a basic footnote<sup id=fnref:1><a href=#fn:1 rel=footnote><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="basic footnote content">[1]</span></a></sup><h2 id=自定义页面><a href=#自定义页面 class=headerlink title=自定义页面></a>自定义页面</h2><p>执行<code>hexo new page &quot;guestbook&quot;</code>之后, 那怎么在博客中加进去呢？<br>找到<code>\next\_config.yml</code>下的<code>memu</code>, 把<code>guestbook</code>加进去:<br><figure class="highlight yml"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=attr>menu:</span></span><br><span class=line> <span class=attr>home:</span> <span class=string>/</span></span><br><span class=line> <span class=attr>categories:</span> <span class=string>/categories</span></span><br><span class=line> <span class=comment>#about: /about</span></span><br><span class=line> <span class=attr>archives:</span> <span class=string>/archives</span></span><br><span class=line> <span class=attr>tags:</span> <span class=string>/tags</span></span><br><span class=line> <span class=attr>guestbook:</span> <span class=string>/guestbook</span></span><br></pre></table></figure><p>图标网站: <em><a href=http://fontawesome.io/icons/ rel="external nofollow noopener noreferrer" target=_blank>http://fontawesome.io/icons/</a></em><p>在<code>/themes/hexo-theme-next/languages/zh-Hans.yml</code>的目录下（这里默认你使用的是简体中文, 若是其他语言更改相应的<code>yml</code>就行）, 在<code>memu</code>下加一句即可:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>guestbook: 留言</span><br></pre></table></figure><h2 id=添加字数统计和阅读时间><a href=#添加字数统计和阅读时间 class=headerlink title=添加字数统计和阅读时间></a>添加字数统计和阅读时间</h2><h3 id=安装插件><a href=#安装插件 class=headerlink title=安装插件></a>安装插件</h3><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>npm install hexo-wordcount --save</span><br></pre></table></figure><blockquote><p>通过以上安装后, 你可以在你的模板文件后者.md文件加入以下相关的标签实现本插件的功能<br>字数统计:WordCount<br>阅读时长预计:Min2Read<br>总字数统计: TotalCount</blockquote><h3 id=修改post-swig模板><a href=#修改post-swig模板 class=headerlink title=修改post.swig模板></a>修改post.swig模板</h3><p>找到<code>themes\next\layout\_macro\post.swig</code>并打开插入以下代码:<br><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br></pre><td class=code><pre><span class=line>&#123;# LeanCould PageView #&#125;</span><br><span class=line>         &#123;% if theme.leancloud_visitors.enable %&#125;</span><br><span class=line>            <span class=tag>&lt;<span class=name>span</span> <span class=attr>id</span>=<span class=string>"&#123;&#123; url_for(post.path) &#125;&#125;"</span> <span class=attr>class</span>=<span class=string>"leancloud_visitors"</span> <span class=attr>data-flag-title</span>=<span class=string>"&#123;&#123; post.title &#125;&#125;"</span>&gt;</span></span><br><span class=line>		 <span class=symbol>&amp;nbsp;</span> | <span class=symbol>&amp;nbsp;</span></span><br><span class=line>              <span class=tag>&lt;<span class=name>span</span> <span class=attr>class</span>=<span class=string>"post-meta-item-icon"</span>&gt;</span></span><br><span class=line>                <span class=tag>&lt;<span class=name>i</span> <span class=attr>class</span>=<span class=string>"fa fa-eye"</span>&gt;</span><span class=tag>&lt;/<span class=name>i</span>&gt;</span></span><br><span class=line>              <span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br><span class=line>              <span class=tag>&lt;<span class=name>span</span> <span class=attr>class</span>=<span class=string>"post-meta-item-text"</span>&gt;</span>&#123;&#123;__('post.visitors')&#125;&#125; <span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br><span class=line>              <span class=tag>&lt;<span class=name>span</span> <span class=attr>class</span>=<span class=string>"leancloud-visitors-count"</span>&gt;</span><span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br><span class=line>             <span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br><span class=line>         &#123;% endif %&#125;</span><br><span class=line></span><br><span class=line>	  </span><br><span class=line>#以下部分为: 字数统计、阅读时长插入代码</span><br><span class=line>         <span class=tag>&lt;<span class=name>span</span> <span class=attr>class</span>=<span class=string>"post-time"</span>&gt;</span></span><br><span class=line>	   <span class=symbol>&amp;nbsp;</span> | <span class=symbol>&amp;nbsp;</span></span><br><span class=line>           <span class=tag>&lt;<span class=name>span</span> <span class=attr>class</span>=<span class=string>"post-meta-item-icon"</span>&gt;</span></span><br><span class=line>             <span class=tag>&lt;<span class=name>i</span> <span class=attr>class</span>=<span class=string>"fa fa-calendar-o"</span>&gt;</span><span class=tag>&lt;/<span class=name>i</span>&gt;</span></span><br><span class=line>           <span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br><span class=line>           <span class=tag>&lt;<span class=name>span</span> <span class=attr>class</span>=<span class=string>"post-meta-item-text"</span>&gt;</span>字数统计:<span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br><span class=line>           <span class=tag>&lt;<span class=name>span</span> <span class=attr>class</span>=<span class=string>"post-count"</span>&gt;</span>&#123;&#123; wordcount(post.content) &#125;&#125;(字)<span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br><span class=line>           </span><br><span class=line>         <span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br><span class=line>	  </span><br><span class=line>      <span class=tag>&lt;<span class=name>span</span> <span class=attr>class</span>=<span class=string>"post-time"</span>&gt;</span></span><br><span class=line>	   <span class=symbol>&amp;nbsp;</span> | <span class=symbol>&amp;nbsp;</span></span><br><span class=line>           <span class=tag>&lt;<span class=name>span</span> <span class=attr>class</span>=<span class=string>"post-meta-item-icon"</span>&gt;</span></span><br><span class=line>             <span class=tag>&lt;<span class=name>i</span> <span class=attr>class</span>=<span class=string>"fa fa-calendar-o"</span>&gt;</span><span class=tag>&lt;/<span class=name>i</span>&gt;</span></span><br><span class=line>           <span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br><span class=line>           <span class=tag>&lt;<span class=name>span</span> <span class=attr>class</span>=<span class=string>"post-meta-item-text"</span>&gt;</span>阅读时长:<span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br><span class=line>           <span class=tag>&lt;<span class=name>span</span> <span class=attr>class</span>=<span class=string>"post-count"</span>&gt;</span>&#123;&#123; min2read(post.content) &#125;&#125;(分)<span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br><span class=line>           </span><br><span class=line>         <span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br><span class=line>#以上部分为: 字数统计、阅读时长插入代码</span><br></pre></table></figure><h2 id=修改footer><a href=#修改footer class=headerlink title=修改footer></a>修改footer</h2><p>修改之后的样子大概是这样的:<br><img src=https://cdn.yangbingdong.com/img/build-hexo/result.png alt><p>1、找到 <code>\themes\next\layout\partials\</code>下面的<code>footer.swig</code>文件, 打开会发现, 如下图的语句:<br><img src=https://cdn.yangbingdong.com/img/build-hexo/footer.png alt><ul><li><p>第一个框 是下面侧栏的“日期❤ XXX”<br>如果想像我一样加东西, 一定要在双大括号外面写. 如: <code>xxx</code>,当然你要是想改彻底可以变量都删掉, 看个人意愿.<li><p>第二个, 是图一当中 “由Hexo驱动” 的Hexo链接, 先给删掉防止跳转, 如果想跳转当然也可以自己写地址, 至于中文一会处理. 注意删除的时候格式不能错, 只把<code>&lt;a&gt;...&lt;/a&gt;</code>标签这部分删除即可, 留着两个单引号’’,否则会出错哦.<li><p>第三个框也是最后一个了, 这个就是更改图一后半部分“主题-Next.XX”,这个比较爽直接将<a>..</a>都删掉, 同样中文“主题”一会处理, 删掉之后在上一行 ‘-’后面可以随意加上你想显示的东西, 不要显示敏感信息哟, 请自重.</ul><p>2、接下来, 处理剩余的中文信息. 找到这个地方<code>\themes\next\languages\</code> 下面的语言文件zh-Hans.yml（这里以中文为例, 有的习惯用英文的配置文件, 道理一样, 找对应位置即可）<br>打开之后, 如图:<br><img src=https://cdn.yangbingdong.com/img/build-hexo/languages.png alt><h2 id=给博客添加吉祥物><a href=#给博客添加吉祥物 class=headerlink title=给博客添加吉祥物></a>给博客添加吉祥物</h2><blockquote><p>详细信息: <strong><em><a href=https://github.com/EYHN/hexo-helper-live2d/blob/master/README.zh-CN.md rel="external nofollow noopener noreferrer" target=_blank>https://github.com/EYHN/hexo-helper-live2d/blob/master/README.zh-CN.md</a></em></strong></blockquote><p>效果图:<p><img src=https://cdn.yangbingdong.com/img/build-hexo/hexo-helper-live2d.png alt><p>安装依赖:<figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>npm install --save hexo-helper-live2d</span><br><span class=line>npm install --save live2d-widget-model-wanko</span><br></pre></table></figure><p><strong>站点配置</strong>添加:<figure class="highlight yaml"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br></pre><td class=code><pre><span class=line><span class=comment># hexo-helper-live2d配置, 参考https://github.com/EYHN/hexo-helper-live2d/blob/master/README.zh-CN.md</span></span><br><span class=line><span class=attr>live2d:</span></span><br><span class=line>  <span class=attr>enable:</span> <span class=literal>true</span></span><br><span class=line>  <span class=attr>scriptFrom:</span> <span class=string>local</span></span><br><span class=line>  <span class=attr>pluginRootPath:</span> <span class=string>live2dw/</span></span><br><span class=line>  <span class=attr>pluginJsPath:</span> <span class=string>lib/</span></span><br><span class=line>  <span class=attr>pluginModelPath:</span> <span class=string>assets/</span></span><br><span class=line>  <span class=attr>tagMode:</span> <span class=literal>false</span></span><br><span class=line>  <span class=attr>debug:</span> <span class=literal>false</span></span><br><span class=line>  <span class=attr>model:</span></span><br><span class=line>    <span class=attr>scale:</span> <span class=number>1</span></span><br><span class=line>    <span class=attr>use:</span> <span class=string>live2d-widget-model-wanko</span></span><br><span class=line>  <span class=attr>display:</span></span><br><span class=line>    <span class=attr>superSample:</span> <span class=number>2</span> <span class=comment># 超采样等级</span></span><br><span class=line>    <span class=attr>width:</span> <span class=number>100</span> </span><br><span class=line>    <span class=attr>height:</span> <span class=number>100</span></span><br><span class=line>    <span class=attr>position:</span> <span class=string>left</span> <span class=comment># 位置</span></span><br><span class=line>  <span class=attr>mobile:</span></span><br><span class=line>    <span class=attr>show:</span> <span class=literal>false</span></span><br><span class=line>  <span class=attr>react:</span></span><br><span class=line>    <span class=attr>opacityDefault:</span> <span class=number>0.9</span> <span class=comment># 默认透明度</span></span><br><span class=line>    <span class=attr>opacityOnHover:</span> <span class=number>0.5</span> <span class=comment># 鼠标移上透明度</span></span><br></pre></table></figure><h2 id=侧栏加入已运行的时间><a href=#侧栏加入已运行的时间 class=headerlink title=侧栏加入已运行的时间></a>侧栏加入已运行的时间</h2><p><code>themes/next/layout/_custom</code>中添加<code>sidebar.swig</code>文件:<figure class="highlight html"><figcaption><span>themes/next/layout/_custom</span><a href=https://reuixiy.github.io/technology/computer/computer-aided-art/2017/06/09/hexo-next-optimization.html rel="external nofollow noopener noreferrer" target=_blank>链接</a></figcaption><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br></pre><td class=code><pre><span class=line><span class=tag>&lt;<span class=name>div</span> <span class=attr>id</span>=<span class=string>"days"</span>&gt;</span><span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>script</span>&gt;</span></span><br><span class=line><span class=javascript>    <span class=function><span class=keyword>function</span> <span class=title>show_date_time</span>(<span class=params></span>)</span>&#123;</span></span><br><span class=line><span class=javascript>        <span class=built_in>window</span>.setTimeout(<span class=string>"show_date_time()"</span>, <span class=number>1000</span>);</span></span><br><span class=line><span class=javascript>        BirthDay=<span class=keyword>new</span> <span class=built_in>Date</span>(<span class=string>"01/10/2017 12:34:56"</span>);</span></span><br><span class=line><span class=javascript>        today=<span class=keyword>new</span> <span class=built_in>Date</span>();</span></span><br><span class=line>        timeold=(today.getTime()-BirthDay.getTime());</span><br><span class=line>        sectimeold=timeold/1000</span><br><span class=line><span class=javascript>        secondsold=<span class=built_in>Math</span>.floor(sectimeold);</span></span><br><span class=line>        msPerDay=24*60*60*1000</span><br><span class=line>        e_daysold=timeold/msPerDay</span><br><span class=line><span class=javascript>        daysold=<span class=built_in>Math</span>.floor(e_daysold);</span></span><br><span class=line>        e_hrsold=(e_daysold-daysold)*24;</span><br><span class=line><span class=javascript>        hrsold=setzero(<span class=built_in>Math</span>.floor(e_hrsold));</span></span><br><span class=line>        e_minsold=(e_hrsold-hrsold)*60;</span><br><span class=line><span class=javascript>        minsold=setzero(<span class=built_in>Math</span>.floor((e_hrsold-hrsold)*<span class=number>60</span>));</span></span><br><span class=line><span class=javascript>        seconds=setzero(<span class=built_in>Math</span>.floor((e_minsold-minsold)*<span class=number>60</span>));</span></span><br><span class=line><span class=javascript>        <span class=built_in>document</span>.getElementById(<span class=string>'days'</span>).innerHTML=<span class=string>"已运行"</span>+daysold+<span class=string>"天"</span>+hrsold+<span class=string>"小时"</span>+minsold+<span class=string>"分"</span>+seconds+<span class=string>"秒"</span>;</span></span><br><span class=line>    &#125;</span><br><span class=line><span class=javascript><span class=function><span class=keyword>function</span> <span class=title>setzero</span>(<span class=params>i</span>)</span>&#123;</span></span><br><span class=line>    if (i&lt;10)</span><br><span class=line><span class=javascript>    &#123;i=<span class=string>"0"</span> + i&#125;;</span></span><br><span class=line><span class=javascript>    <span class=keyword>return</span> i;</span></span><br><span class=line>&#125;</span><br><span class=line>show_date_time();</span><br><span class=line><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span><br></pre></table></figure><p>在<code>themes/next/layout/_macro/sidebar.swig</code>中的<code>&lt;/section&gt;</code>之前添加<figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>&#123;% include &apos;../_custom/sidebar.swig&apos; %&#125;</span><br></pre></table></figure><p>样式:<figure class="highlight diff"><figcaption><span>themes/next/source/css/_custom/custom.styl</span></figcaption><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line>// 自定义的侧栏时间样式</span><br><span class=line>#days &#123;</span><br><span class=line>    display: block;</span><br><span class=line>    color: #fffa74;</span><br><span class=line>    font-size: 14px;</span><br><span class=line>    margin-top: 15px;</span><br><span class=line>&#125;</span><br></pre></table></figure><h2 id=更改标签云（tagcloud）的颜色><a href=#更改标签云（tagcloud）的颜色 class=headerlink title=更改标签云（tagcloud）的颜色></a>更改标签云（tagcloud）的颜色</h2><p><code>themes/next/layout/page.swig</code>找到<code>tagcloud并替换</code>:<figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>&#123;&#123; tagcloud(&#123;min_font: 13, max_font: 31, amount: 1000, color: true, start_color: &apos;#9733EE&apos;, end_color: &apos;#FF512F&apos;&#125;) &#125;&#125;</span><br></pre></table></figure><h2 id=设置动态title><a href=#设置动态title class=headerlink title=设置动态title></a>设置动态title</h2><p><code>themes/next/source/js/src</code>下创建<code>dytitle.js</code>:<figure class="highlight js"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br></pre><td class=code><pre><span class=line><span class=keyword>var</span> OriginTitile = <span class=built_in>document</span>.title;</span><br><span class=line><span class=keyword>var</span> titleTime;</span><br><span class=line><span class=built_in>document</span>.addEventListener(<span class=string>'visibilitychange'</span>, <span class=function><span class=keyword>function</span> (<span class=params></span>) </span>&#123;</span><br><span class=line>    <span class=keyword>if</span> (<span class=built_in>document</span>.hidden) &#123;</span><br><span class=line>        $(<span class=string>'[rel="shortcut icon"]'</span>).attr(<span class=string>'href'</span>, <span class=string>"/TEP.png"</span>);</span><br><span class=line>        <span class=built_in>document</span>.title = <span class=string>'w(ﾟДﾟ)w 出BUG啦！！！！'</span>;</span><br><span class=line>        clearTimeout(titleTime);</span><br><span class=line>    &#125;</span><br><span class=line>    <span class=keyword>else</span> &#123;</span><br><span class=line>        $(<span class=string>'[rel="shortcut icon"]'</span>).attr(<span class=string>'href'</span>, <span class=string>"/favicon.png"</span>);</span><br><span class=line>        <span class=built_in>document</span>.title = <span class=string>'♪(^∇^*)又好了. . . '</span> + OriginTitile;</span><br><span class=line>        titleTime = setTimeout(<span class=function><span class=keyword>function</span> (<span class=params></span>) </span>&#123;</span><br><span class=line>            <span class=built_in>document</span>.title = OriginTitile;</span><br><span class=line>        &#125;, <span class=number>2000</span>);</span><br><span class=line>    &#125;</span><br><span class=line>&#125;);</span><br></pre></table></figure><p>修改<code>themes/next/layout/layout.swing</code>,在 <code>&lt;/body&gt;</code> 之前添加: :<figure class=highlight><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>&lt;script type="text/javascript" src="/js/src/dytitle.js"&gt;&lt;/script&gt;</span><br></pre></table></figure><h2 id=修改文章底部的那个带-号的标签><a href=#修改文章底部的那个带-号的标签 class=headerlink title=修改文章底部的那个带#号的标签></a>修改文章底部的那个带#号的标签</h2><p>修改模板<code>/themes/next/layout/_macro/post.swig</code>, 搜索 <code>rel=&quot;tag&quot;&gt;#</code>, 将 # 换成<code>&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</code><h1 id=元素微调自定义篇><a href=#元素微调自定义篇 class=headerlink title=元素微调自定义篇></a>元素微调自定义篇</h1><p>那么如何把字体、页宽、按钮大小等等一些细节的东西调到自己喜欢的样式呢？<br>那就是通过浏览器元素定位, 调到自己喜欢的样式, 然后加到<code>themes/next/source/css/_custom/custom.styl</code>文件下面.<h2 id=定位元素><a href=#定位元素 class=headerlink title=定位元素></a>定位元素</h2><p>用谷歌或者火狐浏览器打开博客页面, 按下F12进入调试<br>先点击定位按钮, 然后选择元素, 然后在定位出来的样式进行修改, 调到自己喜欢的样子, 就像这样↓<br><img src=https://cdn.yangbingdong.com/img/build-hexo/yemiantiaoshi.png alt><h2 id=添加到样式文件><a href=#添加到样式文件 class=headerlink title=添加到样式文件></a>添加到样式文件</h2><p>打开<code>themes/next/source/css/_custom/custom.styl</code>, 把调试好的样式加进去, 保存后<code>Ctrl+F5</code>就能看到效果了, 前提是在本地运行的, 下面列出博主的一些自定义样式:<br><figure class="highlight css"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br></pre><td class=code><pre><span class=line>// Custom styles.</span><br><span class=line>// 页面头部背景</span><br><span class=line><span class=selector-class>.header</span> &#123;  <span class=attribute>background</span>:<span class=built_in>url</span>(https://cdn.yangbingdong.com/img/header/header_background.jpg);&#125;</span><br><span class=line></span><br><span class=line>// 子标题</span><br><span class=line><span class=selector-class>.site-subtitle</span>&#123; <span class=attribute>font-size</span>: <span class=number>15px</span>; <span class=attribute>color</span>: white; &#125;</span><br><span class=line></span><br><span class=line>// 标题</span><br><span class=line><span class=selector-class>.site-title</span> &#123;</span><br><span class=line>    <span class=attribute>font-size</span>: <span class=number>40px</span>;</span><br><span class=line>    <span class=attribute>font-weight</span>: bold;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line>// 标题背景</span><br><span class=line><span class=selector-class>.brand</span>&#123;</span><br><span class=line>    <span class=attribute>background</span>: transparent;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line>// 菜单栏</span><br><span class=line><span class=selector-class>.menu</span> &#123;</span><br><span class=line>	<span class=attribute>margin-top</span>: <span class=number>20px</span>;</span><br><span class=line>	<span class=attribute>padding-left</span>: <span class=number>0</span>;</span><br><span class=line>	<span class=attribute>text-align</span>: center;</span><br><span class=line>	<span class=attribute>background</span>: <span class=built_in>rgba</span>(<span class=number>240</span>, <span class=number>240</span>, <span class=number>240</span>, <span class=number>0.5</span>);</span><br><span class=line>	<span class=attribute>margin-left</span>: auto;</span><br><span class=line>	<span class=attribute>margin-right</span>: auto;</span><br><span class=line>	<span class=attribute>width</span>: <span class=number>530px</span>;</span><br><span class=line>	<span class=attribute>border-radius</span>: initial;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line>// 菜单图表链接 以及 超链接样式</span><br><span class=line><span class=selector-tag>a</span> &#123;</span><br><span class=line>    <span class=attribute>color</span>: <span class=built_in>rgba</span>(<span class=number>0</span>,<span class=number>0</span>,<span class=number>0</span>,<span class=number>0.8</span>);</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-tag>a</span><span class=selector-pseudo>:hover</span> &#123;</span><br><span class=line>    <span class=attribute>color</span>: <span class=number>#ff106c</span>;</span><br><span class=line>    <span class=attribute>border-bottom-color</span>: <span class=number>#ff106c</span>;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line>// 菜单字体大小</span><br><span class=line><span class=selector-class>.menu</span> <span class=selector-class>.menu-item</span> <span class=selector-tag>a</span> &#123;</span><br><span class=line>    <span class=attribute>font-size</span>: <span class=number>14px</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.menu</span> <span class=selector-class>.menu-item</span> <span class=selector-tag>a</span><span class=selector-pseudo>:hover</span> &#123;</span><br><span class=line>    <span class=attribute>border-bottom-color</span>: <span class=number>#ff106c</span>;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line>// 文章背景框框</span><br><span class=line><span class=selector-class>.post</span> &#123;</span><br><span class=line>    <span class=attribute>margin-top</span>: <span class=number>10px</span>;</span><br><span class=line>    <span class=attribute>margin-bottom</span>: <span class=number>40px</span>;</span><br><span class=line>    <span class=attribute>padding</span>: <span class=number>18px</span>;</span><br><span class=line>    <span class=attribute>-webkit-box-shadow</span>: <span class=number>0</span> <span class=number>0</span> <span class=number>5px</span> <span class=built_in>rgba</span>(<span class=number>202</span>, <span class=number>203</span>, <span class=number>203</span>, <span class=number>0.8</span>);</span><br><span class=line>   &#125;</span><br><span class=line></span><br><span class=line>// 站点描述</span><br><span class=line><span class=selector-class>.site-description</span> &#123;</span><br><span class=line>    <span class=attribute>font-size</span>: <span class=number>16px</span>;</span><br><span class=line></span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line>// 头部inner</span><br><span class=line><span class=selector-class>.header-inner</span> &#123;</span><br><span class=line>    <span class=attribute>padding</span>: <span class=number>45px</span> <span class=number>0</span> <span class=number>25px</span>;</span><br><span class=line>    <span class=attribute>width</span>: <span class=number>700px</span>;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line>// 作者名</span><br><span class=line><span class=selector-class>.site-author-name</span> &#123;</span><br><span class=line>    <span class=attribute>font-family</span>: <span class=string>'Comic Sans MS'</span>, sans-serif;</span><br><span class=line>    <span class=attribute>font-size</span>: <span class=number>20px</span>;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line>// 文章之间的分割线</span><br><span class=line><span class=selector-class>.posts-expand</span> <span class=selector-class>.post-eof</span> &#123;</span><br><span class=line>    <span class=attribute>margin</span>: <span class=number>40px</span> auto <span class=number>40px</span>;</span><br><span class=line>    <span class=attribute>background</span>: white;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line>// 按钮样式</span><br><span class=line><span class=selector-class>.btn</span> &#123;</span><br><span class=line>    <span class=attribute>margin-top</span>: <span class=number>20px</span>;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line>// ``代码块样式</span><br><span class=line><span class=selector-tag>code</span> &#123;</span><br><span class=line>    <span class=attribute>color</span>: <span class=number>#E6006B</span>;</span><br><span class=line>    <span class=attribute>background</span>: white;</span><br><span class=line>    <span class=attribute>border-radius</span>: <span class=number>3px</span>;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line>// 文章```代码块顶部样式</span><br><span class=line><span class=selector-class>.highlight</span> <span class=selector-tag>figcaption</span> &#123;</span><br><span class=line>    <span class=attribute>margin</span>: <span class=number>0em</span>;</span><br><span class=line>    <span class=attribute>padding</span>: <span class=number>0.5em</span>;</span><br><span class=line>    <span class=attribute>background</span>: <span class=number>#eee</span>;</span><br><span class=line>    <span class=attribute>border-bottom</span>: <span class=number>1px</span> solid <span class=number>#e9e9e9</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.highlight</span> <span class=selector-tag>figcaption</span> <span class=selector-tag>a</span> &#123;</span><br><span class=line>    <span class=attribute>color</span>: <span class=built_in>rgb</span>(<span class=number>80</span>, <span class=number>115</span>, <span class=number>184</span>);</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line>// 文章标题动态效果 next/source/css/_common/components/post/post-title.styl中.posts-expand .post-title-link确保`position: relative;`属性存在, 如果需要标题呈现链接效果颜色, 将`color`元素去除即可</span><br><span class=line><span class=selector-class>.posts-expand</span> <span class=selector-class>.post-title-link</span><span class=selector-pseudo>::before</span> &#123;</span><br><span class=line>    <span class=attribute>background-image</span>: <span class=built_in>linear-gradient</span>(<span class=number>90deg</span>, #a166ab <span class=number>0%</span>, #ef4e7b <span class=number>25%</span>, #f37055 <span class=number>50%</span>, #ef4e7b <span class=number>75%</span>, #a166ab <span class=number>100%</span>);</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line>// 文章内标题样式（左边的竖线）</span><br><span class=line><span class=selector-class>.post-body</span> <span class=selector-tag>h2</span>, <span class=selector-tag>h3</span>, <span class=selector-tag>h4</span>, <span class=selector-tag>h5</span>, <span class=selector-tag>h6</span> &#123;</span><br><span class=line>    <span class=attribute>border-left</span>: <span class=number>4px</span> solid <span class=number>#657b83</span>;</span><br><span class=line>    <span class=attribute>padding-left</span>: <span class=number>10px</span>;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=selector-class>.post-body</span> <span class=selector-tag>h1</span> &#123;</span><br><span class=line>    <span class=attribute>border-left</span>: <span class=number>5px</span> solid <span class=number>#657b83</span>;</span><br><span class=line>    <span class=attribute>padding-left</span>: <span class=number>10px</span>;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=selector-tag>body</span> &#123;</span><br><span class=line>    <span class=attribute>color</span>: <span class=number>#444</span>;</span><br><span class=line>    <span class=attribute>font-size</span>: <span class=number>16px</span>;</span><br><span class=line>&#125;</span><br></pre></table></figure><p>但并不是所有的样式都能调, 像页宽, 多说评论的样式在<code>custom.styl</code>文件是无效的.<h2 id=好玩的样式><a href=#好玩的样式 class=headerlink title=好玩的样式></a>好玩的样式</h2><p>先在<code>themes/next/source/css/_custom/custom.styl</code>中添加以下样式:<br><figure class="highlight css"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br><span class=line>123</span><br><span class=line>124</span><br><span class=line>125</span><br><span class=line>126</span><br><span class=line>127</span><br><span class=line>128</span><br><span class=line>129</span><br><span class=line>130</span><br><span class=line>131</span><br><span class=line>132</span><br><span class=line>133</span><br><span class=line>134</span><br><span class=line>135</span><br><span class=line>136</span><br><span class=line>137</span><br><span class=line>138</span><br><span class=line>139</span><br><span class=line>140</span><br><span class=line>141</span><br><span class=line>142</span><br><span class=line>143</span><br><span class=line>144</span><br><span class=line>145</span><br><span class=line>146</span><br><span class=line>147</span><br><span class=line>148</span><br><span class=line>149</span><br><span class=line>150</span><br><span class=line>151</span><br><span class=line>152</span><br><span class=line>153</span><br><span class=line>154</span><br><span class=line>155</span><br><span class=line>156</span><br><span class=line>157</span><br><span class=line>158</span><br><span class=line>159</span><br><span class=line>160</span><br><span class=line>161</span><br><span class=line>162</span><br><span class=line>163</span><br><span class=line>164</span><br><span class=line>165</span><br><span class=line>166</span><br><span class=line>167</span><br><span class=line>168</span><br><span class=line>169</span><br><span class=line>170</span><br><span class=line>171</span><br><span class=line>172</span><br><span class=line>173</span><br><span class=line>174</span><br><span class=line>175</span><br><span class=line>176</span><br><span class=line>177</span><br><span class=line>178</span><br><span class=line>179</span><br><span class=line>180</span><br><span class=line>181</span><br><span class=line>182</span><br><span class=line>183</span><br><span class=line>184</span><br><span class=line>185</span><br><span class=line>186</span><br><span class=line>187</span><br><span class=line>188</span><br><span class=line>189</span><br><span class=line>190</span><br><span class=line>191</span><br><span class=line>192</span><br><span class=line>193</span><br><span class=line>194</span><br><span class=line>195</span><br><span class=line>196</span><br><span class=line>197</span><br><span class=line>198</span><br><span class=line>199</span><br><span class=line>200</span><br><span class=line>201</span><br><span class=line>202</span><br><span class=line>203</span><br><span class=line>204</span><br><span class=line>205</span><br><span class=line>206</span><br><span class=line>207</span><br><span class=line>208</span><br><span class=line>209</span><br><span class=line>210</span><br><span class=line>211</span><br><span class=line>212</span><br><span class=line>213</span><br><span class=line>214</span><br><span class=line>215</span><br><span class=line>216</span><br><span class=line>217</span><br><span class=line>218</span><br><span class=line>219</span><br><span class=line>220</span><br><span class=line>221</span><br></pre><td class=code><pre><span class=line>// 下载样式</span><br><span class=line><span class=selector-tag>a</span><span class=selector-id>#download</span> &#123;</span><br><span class=line><span class=attribute>display</span>: inline-block;</span><br><span class=line><span class=attribute>padding</span>: <span class=number>0</span> <span class=number>10px</span>;</span><br><span class=line><span class=attribute>color</span>: <span class=number>#000</span>;</span><br><span class=line><span class=attribute>background</span>: transparent;</span><br><span class=line><span class=attribute>border</span>: <span class=number>2px</span> solid <span class=number>#000</span>;</span><br><span class=line><span class=attribute>border-radius</span>: <span class=number>2px</span>;</span><br><span class=line><span class=attribute>transition</span>: all .<span class=number>5s</span> ease;</span><br><span class=line><span class=attribute>font-weight</span>: bold;</span><br><span class=line>&amp;:hover &#123;</span><br><span class=line><span class=selector-tag>background</span>: <span class=selector-id>#000</span>;</span><br><span class=line><span class=selector-tag>color</span>: <span class=selector-id>#fff</span>;</span><br><span class=line>&#125;</span><br><span class=line>&#125;</span><br><span class=line>/ /颜色块-黄</span><br><span class=line><span class=selector-tag>span</span><span class=selector-id>#inline-yellow</span> &#123;</span><br><span class=line><span class=attribute>display</span>:inline;</span><br><span class=line><span class=attribute>padding</span>:.<span class=number>2em</span> .<span class=number>6em</span> .<span class=number>3em</span>;</span><br><span class=line><span class=attribute>font-size</span>:<span class=number>80%</span>;</span><br><span class=line><span class=attribute>font-weight</span>:bold;</span><br><span class=line><span class=attribute>line-height</span>:<span class=number>1</span>;</span><br><span class=line><span class=attribute>color</span>:<span class=number>#fff</span>;</span><br><span class=line><span class=attribute>text-align</span>:center;</span><br><span class=line><span class=attribute>white-space</span>:nowrap;</span><br><span class=line><span class=attribute>vertical-align</span>:baseline;</span><br><span class=line><span class=attribute>border-radius</span>:<span class=number>0</span>;</span><br><span class=line><span class=attribute>background-color</span>: <span class=number>#f0ad4e</span>;</span><br><span class=line>&#125;</span><br><span class=line>// 颜色块-绿</span><br><span class=line><span class=selector-tag>span</span><span class=selector-id>#inline-green</span> &#123;</span><br><span class=line><span class=attribute>display</span>:inline;</span><br><span class=line><span class=attribute>padding</span>:.<span class=number>2em</span> .<span class=number>6em</span> .<span class=number>3em</span>;</span><br><span class=line><span class=attribute>font-size</span>:<span class=number>80%</span>;</span><br><span class=line><span class=attribute>font-weight</span>:bold;</span><br><span class=line><span class=attribute>line-height</span>:<span class=number>1</span>;</span><br><span class=line><span class=attribute>color</span>:<span class=number>#fff</span>;</span><br><span class=line><span class=attribute>text-align</span>:center;</span><br><span class=line><span class=attribute>white-space</span>:nowrap;</span><br><span class=line><span class=attribute>vertical-align</span>:baseline;</span><br><span class=line><span class=attribute>border-radius</span>:<span class=number>0</span>;</span><br><span class=line><span class=attribute>background-color</span>: <span class=number>#5cb85c</span>;</span><br><span class=line>&#125;</span><br><span class=line>// 颜色块-蓝</span><br><span class=line><span class=selector-tag>span</span><span class=selector-id>#inline-blue</span> &#123;</span><br><span class=line><span class=attribute>display</span>:inline;</span><br><span class=line><span class=attribute>padding</span>:.<span class=number>2em</span> .<span class=number>6em</span> .<span class=number>3em</span>;</span><br><span class=line><span class=attribute>font-size</span>:<span class=number>80%</span>;</span><br><span class=line><span class=attribute>font-weight</span>:bold;</span><br><span class=line><span class=attribute>line-height</span>:<span class=number>1</span>;</span><br><span class=line><span class=attribute>color</span>:<span class=number>#fff</span>;</span><br><span class=line><span class=attribute>text-align</span>:center;</span><br><span class=line><span class=attribute>white-space</span>:nowrap;</span><br><span class=line><span class=attribute>vertical-align</span>:baseline;</span><br><span class=line><span class=attribute>border-radius</span>:<span class=number>0</span>;</span><br><span class=line><span class=attribute>background-color</span>: <span class=number>#2780e3</span>;</span><br><span class=line>&#125;</span><br><span class=line>// 颜色块-紫</span><br><span class=line><span class=selector-tag>span</span><span class=selector-id>#inline-purple</span> &#123;</span><br><span class=line><span class=attribute>display</span>:inline;</span><br><span class=line><span class=attribute>padding</span>:.<span class=number>2em</span> .<span class=number>6em</span> .<span class=number>3em</span>;</span><br><span class=line><span class=attribute>font-size</span>:<span class=number>80%</span>;</span><br><span class=line><span class=attribute>font-weight</span>:bold;</span><br><span class=line><span class=attribute>line-height</span>:<span class=number>1</span>;</span><br><span class=line><span class=attribute>color</span>:<span class=number>#fff</span>;</span><br><span class=line><span class=attribute>text-align</span>:center;</span><br><span class=line><span class=attribute>white-space</span>:nowrap;</span><br><span class=line><span class=attribute>vertical-align</span>:baseline;</span><br><span class=line><span class=attribute>border-radius</span>:<span class=number>0</span>;</span><br><span class=line><span class=attribute>background-color</span>: <span class=number>#9954bb</span>;</span><br><span class=line>&#125;</span><br><span class=line>// 左侧边框红色块级</span><br><span class=line><span class=selector-tag>p</span><span class=selector-id>#div-border-left-red</span> &#123;</span><br><span class=line><span class=attribute>display</span>: block;</span><br><span class=line><span class=attribute>padding</span>: <span class=number>10px</span>;</span><br><span class=line><span class=attribute>margin</span>: <span class=number>10px</span> <span class=number>0</span>;</span><br><span class=line><span class=attribute>border</span>: <span class=number>1px</span> solid <span class=number>#ccc</span>;</span><br><span class=line><span class=attribute>border-left-width</span>: <span class=number>5px</span>;</span><br><span class=line><span class=attribute>border-radius</span>: <span class=number>3px</span>;</span><br><span class=line><span class=attribute>border-left-color</span>: <span class=number>#df3e3e</span>;</span><br><span class=line>&#125;</span><br><span class=line>// 左侧边框黄色块级</span><br><span class=line><span class=selector-tag>p</span><span class=selector-id>#div-border-left-yellow</span> &#123;</span><br><span class=line><span class=attribute>display</span>: block;</span><br><span class=line><span class=attribute>padding</span>: <span class=number>10px</span>;</span><br><span class=line><span class=attribute>margin</span>: <span class=number>10px</span> <span class=number>0</span>;</span><br><span class=line><span class=attribute>border</span>: <span class=number>1px</span> solid <span class=number>#ccc</span>;</span><br><span class=line><span class=attribute>border-left-width</span>: <span class=number>5px</span>;</span><br><span class=line><span class=attribute>border-radius</span>: <span class=number>3px</span>;</span><br><span class=line><span class=attribute>border-left-color</span>: <span class=number>#f0ad4e</span>;</span><br><span class=line>&#125;</span><br><span class=line>// 左侧边框绿色块级</span><br><span class=line><span class=selector-tag>p</span><span class=selector-id>#div-border-left-green</span> &#123;</span><br><span class=line><span class=attribute>display</span>: block;</span><br><span class=line><span class=attribute>padding</span>: <span class=number>10px</span>;</span><br><span class=line><span class=attribute>margin</span>: <span class=number>10px</span> <span class=number>0</span>;</span><br><span class=line><span class=attribute>border</span>: <span class=number>1px</span> solid <span class=number>#ccc</span>;</span><br><span class=line><span class=attribute>border-left-width</span>: <span class=number>5px</span>;</span><br><span class=line><span class=attribute>border-radius</span>: <span class=number>3px</span>;</span><br><span class=line><span class=attribute>border-left-color</span>: <span class=number>#5cb85c</span>;</span><br><span class=line>&#125;</span><br><span class=line>// 左侧边框蓝色块级</span><br><span class=line><span class=selector-tag>p</span><span class=selector-id>#div-border-left-blue</span> &#123;</span><br><span class=line><span class=attribute>display</span>: block;</span><br><span class=line><span class=attribute>padding</span>: <span class=number>10px</span>;</span><br><span class=line><span class=attribute>margin</span>: <span class=number>10px</span> <span class=number>0</span>;</span><br><span class=line><span class=attribute>border</span>: <span class=number>1px</span> solid <span class=number>#ccc</span>;</span><br><span class=line><span class=attribute>border-left-width</span>: <span class=number>5px</span>;</span><br><span class=line><span class=attribute>border-radius</span>: <span class=number>3px</span>;</span><br><span class=line><span class=attribute>border-left-color</span>: <span class=number>#2780e3</span>;</span><br><span class=line>&#125;</span><br><span class=line>// 左侧边框紫色块级</span><br><span class=line><span class=selector-tag>p</span><span class=selector-id>#div-border-left-purple</span> &#123;</span><br><span class=line><span class=attribute>display</span>: block;</span><br><span class=line><span class=attribute>padding</span>: <span class=number>10px</span>;</span><br><span class=line><span class=attribute>margin</span>: <span class=number>10px</span> <span class=number>0</span>;</span><br><span class=line><span class=attribute>border</span>: <span class=number>1px</span> solid <span class=number>#ccc</span>;</span><br><span class=line><span class=attribute>border-left-width</span>: <span class=number>5px</span>;</span><br><span class=line><span class=attribute>border-radius</span>: <span class=number>3px</span>;</span><br><span class=line><span class=attribute>border-left-color</span>: <span class=number>#9954bb</span>;</span><br><span class=line>&#125;</span><br><span class=line>// 右侧边框红色块级</span><br><span class=line><span class=selector-tag>p</span><span class=selector-id>#div-border-right-red</span> &#123;</span><br><span class=line><span class=attribute>display</span>: block;</span><br><span class=line><span class=attribute>padding</span>: <span class=number>10px</span>;</span><br><span class=line><span class=attribute>margin</span>: <span class=number>10px</span> <span class=number>0</span>;</span><br><span class=line><span class=attribute>border</span>: <span class=number>1px</span> solid <span class=number>#ccc</span>;</span><br><span class=line><span class=attribute>border-right-width</span>: <span class=number>5px</span>;</span><br><span class=line><span class=attribute>border-radius</span>: <span class=number>3px</span>;</span><br><span class=line><span class=attribute>border-right-color</span>: <span class=number>#df3e3e</span>;</span><br><span class=line>&#125;</span><br><span class=line>// 右侧边框黄色块级</span><br><span class=line><span class=selector-tag>p</span><span class=selector-id>#div-border-right-yellow</span> &#123;</span><br><span class=line><span class=attribute>display</span>: block;</span><br><span class=line><span class=attribute>padding</span>: <span class=number>10px</span>;</span><br><span class=line><span class=attribute>margin</span>: <span class=number>10px</span> <span class=number>0</span>;</span><br><span class=line><span class=attribute>border</span>: <span class=number>1px</span> solid <span class=number>#ccc</span>;</span><br><span class=line><span class=attribute>border-right-width</span>: <span class=number>5px</span>;</span><br><span class=line><span class=attribute>border-radius</span>: <span class=number>3px</span>;</span><br><span class=line><span class=attribute>border-right-color</span>: <span class=number>#f0ad4e</span>;</span><br><span class=line>&#125;</span><br><span class=line>// 右侧边框绿色块级</span><br><span class=line><span class=selector-tag>p</span><span class=selector-id>#div-border-right-green</span> &#123;</span><br><span class=line><span class=attribute>display</span>: block;</span><br><span class=line><span class=attribute>padding</span>: <span class=number>10px</span>;</span><br><span class=line><span class=attribute>margin</span>: <span class=number>10px</span> <span class=number>0</span>;</span><br><span class=line><span class=attribute>border</span>: <span class=number>1px</span> solid <span class=number>#ccc</span>;</span><br><span class=line><span class=attribute>border-right-width</span>: <span class=number>5px</span>;</span><br><span class=line><span class=attribute>border-radius</span>: <span class=number>3px</span>;</span><br><span class=line><span class=attribute>border-right-color</span>: <span class=number>#5cb85c</span>;</span><br><span class=line>&#125;</span><br><span class=line>// 右侧边框蓝色块级</span><br><span class=line><span class=selector-tag>p</span><span class=selector-id>#div-border-right-blue</span> &#123;</span><br><span class=line><span class=attribute>display</span>: block;</span><br><span class=line><span class=attribute>padding</span>: <span class=number>10px</span>;</span><br><span class=line><span class=attribute>margin</span>: <span class=number>10px</span> <span class=number>0</span>;</span><br><span class=line><span class=attribute>border</span>: <span class=number>1px</span> solid <span class=number>#ccc</span>;</span><br><span class=line><span class=attribute>border-right-width</span>: <span class=number>5px</span>;</span><br><span class=line><span class=attribute>border-radius</span>: <span class=number>3px</span>;</span><br><span class=line><span class=attribute>border-right-color</span>: <span class=number>#2780e3</span>;</span><br><span class=line>&#125;</span><br><span class=line>// 右侧边框紫色块级</span><br><span class=line><span class=selector-tag>p</span><span class=selector-id>#div-border-right-purple</span> &#123;</span><br><span class=line><span class=attribute>display</span>: block;</span><br><span class=line><span class=attribute>padding</span>: <span class=number>10px</span>;</span><br><span class=line><span class=attribute>margin</span>: <span class=number>10px</span> <span class=number>0</span>;</span><br><span class=line><span class=attribute>border</span>: <span class=number>1px</span> solid <span class=number>#ccc</span>;</span><br><span class=line><span class=attribute>border-right-width</span>: <span class=number>5px</span>;</span><br><span class=line><span class=attribute>border-radius</span>: <span class=number>3px</span>;</span><br><span class=line><span class=attribute>border-right-color</span>: <span class=number>#9954bb</span>;</span><br><span class=line>&#125;</span><br><span class=line>// 上侧边框红色</span><br><span class=line><span class=selector-tag>p</span><span class=selector-id>#div-border-top-red</span> &#123;</span><br><span class=line><span class=attribute>display</span>: block;</span><br><span class=line><span class=attribute>padding</span>: <span class=number>10px</span>;</span><br><span class=line><span class=attribute>margin</span>: <span class=number>10px</span> <span class=number>0</span>;</span><br><span class=line><span class=attribute>border</span>: <span class=number>1px</span> solid <span class=number>#ccc</span>;</span><br><span class=line><span class=attribute>border-top-width</span>: <span class=number>5px</span>;</span><br><span class=line><span class=attribute>border-radius</span>: <span class=number>3px</span>;</span><br><span class=line><span class=attribute>border-top-color</span>: <span class=number>#df3e3e</span>;</span><br><span class=line>&#125;</span><br><span class=line>// 上侧边框黄色</span><br><span class=line><span class=selector-tag>p</span><span class=selector-id>#div-border-top-yellow</span> &#123;</span><br><span class=line><span class=attribute>display</span>: block;</span><br><span class=line><span class=attribute>padding</span>: <span class=number>10px</span>;</span><br><span class=line><span class=attribute>margin</span>: <span class=number>10px</span> <span class=number>0</span>;</span><br><span class=line><span class=attribute>border</span>: <span class=number>1px</span> solid <span class=number>#ccc</span>;</span><br><span class=line><span class=attribute>border-top-width</span>: <span class=number>5px</span>;</span><br><span class=line><span class=attribute>border-radius</span>: <span class=number>3px</span>;</span><br><span class=line><span class=attribute>border-top-color</span>: <span class=number>#f0ad4e</span>;</span><br><span class=line>&#125;</span><br><span class=line>// 上侧边框绿色</span><br><span class=line><span class=selector-tag>p</span><span class=selector-id>#div-border-top-green</span> &#123;</span><br><span class=line><span class=attribute>display</span>: block;</span><br><span class=line><span class=attribute>padding</span>: <span class=number>10px</span>;</span><br><span class=line><span class=attribute>margin</span>: <span class=number>10px</span> <span class=number>0</span>;</span><br><span class=line><span class=attribute>border</span>: <span class=number>1px</span> solid <span class=number>#ccc</span>;</span><br><span class=line><span class=attribute>border-top-width</span>: <span class=number>5px</span>;</span><br><span class=line><span class=attribute>border-radius</span>: <span class=number>3px</span>;</span><br><span class=line><span class=attribute>border-top-color</span>: <span class=number>#5cb85c</span>;</span><br><span class=line>&#125;</span><br><span class=line>// 上侧边框蓝色</span><br><span class=line><span class=selector-tag>p</span><span class=selector-id>#div-border-top-blue</span> &#123;</span><br><span class=line><span class=attribute>display</span>: block;</span><br><span class=line><span class=attribute>padding</span>: <span class=number>10px</span>;</span><br><span class=line><span class=attribute>margin</span>: <span class=number>10px</span> <span class=number>0</span>;</span><br><span class=line><span class=attribute>border</span>: <span class=number>1px</span> solid <span class=number>#ccc</span>;</span><br><span class=line><span class=attribute>border-top-width</span>: <span class=number>5px</span>;</span><br><span class=line><span class=attribute>border-radius</span>: <span class=number>3px</span>;</span><br><span class=line><span class=attribute>border-top-color</span>: <span class=number>#2780e3</span>;</span><br><span class=line>&#125;</span><br><span class=line>// 上侧边框紫色</span><br><span class=line><span class=selector-tag>p</span><span class=selector-id>#div-border-top-purple</span> &#123;</span><br><span class=line><span class=attribute>display</span>: block;</span><br><span class=line><span class=attribute>padding</span>: <span class=number>10px</span>;</span><br><span class=line><span class=attribute>margin</span>: <span class=number>10px</span> <span class=number>0</span>;</span><br><span class=line><span class=attribute>border</span>: <span class=number>1px</span> solid <span class=number>#ccc</span>;</span><br><span class=line><span class=attribute>border-top-width</span>: <span class=number>5px</span>;</span><br><span class=line><span class=attribute>border-radius</span>: <span class=number>3px</span>;</span><br><span class=line><span class=attribute>border-top-color</span>: <span class=number>#9954bb</span>;</span><br><span class=line>&#125;</span><br></pre></table></figure><p><strong>用法如下</strong>:<h3 id=文字增加背景色块><a href=#文字增加背景色块 class=headerlink title=文字增加背景色块></a>文字增加背景色块</h3><p><span id=inline-blue>站点配置文件</span> , <span id=inline-purple>主题配置文件</span><br><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line><span class=tag>&lt;<span class=name>span</span> <span class=attr>id</span>=<span class=string>"inline-blue"</span>&gt;</span>站点配置文件<span class=tag>&lt;/<span class=name>span</span>&gt;</span>, </span><br><span class=line><span class=tag>&lt;<span class=name>span</span> <span class=attr>id</span>=<span class=string>"inline-purple"</span>&gt;</span>主题配置文件<span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br></pre></table></figure><h3 id=引用边框变色><a href=#引用边框变色 class=headerlink title=引用边框变色></a>引用边框变色</h3><p><p id=div-border-left-red>如果没有安装成功, 那可能就是墙的原因. 建议下载 <code>Node.js</code> 直接安装.<p><p><p id=div-border-top-blue>关于更多基本操作和基础知识, 请查阅 <a href=https://hexo.io/zh-cn/ rel="external nofollow noopener noreferrer" target=_blank>Hexo</a> 与 <a href=http://theme-next.iissnan.com/ rel="external nofollow noopener noreferrer" target=_blank>NexT</a> 官方文档.</p><br><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line><span class=tag>&lt;<span class=name>p</span> <span class=attr>id</span>=<span class=string>"div-border-left-red"</span>&gt;</span>如果没有安装成功, 那可能就是墙的原因. 建议下载 `Node.js` 直接安装. <span class=tag>&lt;/<span class=name>p</span>&gt;</span></span><br><span class=line><span class=tag>&lt;<span class=name>p</span> <span class=attr>id</span>=<span class=string>"div-border-top-blue"</span>&gt;</span>关于更多基本操作和基础知识, 请查阅 [Hexo](https://hexo.io/zh-cn/) 与 [NexT](http://theme-next.iissnan.com/) 官方文档.<span class=tag>&lt;/<span class=name>p</span>&gt;</span></span><br></pre></table></figure><p><h3 id=在文档中增加图标><a href=#在文档中增加图标 class=headerlink title=在文档中增加图标></a>在文档中增加图标</h3><ul><li><i class="fa fa-pencil"></i>支持Markdown<br><i>Hexo 支持 GitHub Flavored Markdown 的所有功能, 甚至可以整合 Octopress 的大多数插件.</i><li><i class="fa fa-cloud-upload"></i>一件部署<br><i>只需一条指令即可部署到Github Pages, 或其他网站</i><li><i class="fa fa-cog"></i>丰富的插件<br><i>Hexo 拥有强大的插件系统, 安装插件可以让 Hexo 支持 Jade, CoffeeScript.</i></ul><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre><td class=code><pre><span class=line>- &lt;i class=&quot;fa fa-pencil&quot;&gt;&lt;/i&gt;支持Markdown</span><br><span class=line>&lt;i&gt;Hexo 支持 GitHub Flavored Markdown 的所有功能, 甚至可以整合 Octopress 的大多数插件. &lt;/i&gt;</span><br><span class=line>- &lt;i class=&quot;fa fa-cloud-upload&quot;&gt;&lt;/i&gt;一件部署</span><br><span class=line>&lt;i&gt;只需一条指令即可部署到Github Pages, 或其他网站&lt;/i&gt;</span><br><span class=line>- &lt;i class=&quot;fa fa-cog&quot;&gt;&lt;/i&gt;丰富的插件</span><br><span class=line>&lt;i&gt;Hexo 拥有强大的插件系统, 安装插件可以让 Hexo 支持 Jade, CoffeeScript. &lt;/i&gt;</span><br></pre></table></figure><p><i class="fa fa-github"></i><code>&lt;i class=&quot;fa fa-github&quot;&gt;&lt;/i&gt;</code><br><i class="fa fa-github fa-lg"></i><code>&lt;i class=&quot;fa fa-github fa-lg&quot;&gt;&lt;/i&gt;</code><br><i class="fa fa-github fa-2x"></i><code>&lt;i class=&quot;fa fa-github fa-2x&quot;&gt;&lt;/i&gt;</code><p>采用的是<strong><em><a href=http://fontawesome.io/examples/ rel="external nofollow noopener noreferrer" target=_blank>Font Awesome</a></em></strong>的图标.<h3 id=图形边框效果><a href=#图形边框效果 class=headerlink title=图形边框效果></a>图形边框效果</h3><p><a id=download href=https://git-scm.com/download/win rel="external nofollow noopener noreferrer" target=_blank><i class="fa fa-download"></i><span>Download Now</span><br></a><br><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line><span class=tag>&lt;<span class=name>a</span> <span class=attr>id</span>=<span class=string>"download"</span> <span class=attr>href</span>=<span class=string>"https://git-scm.com/download/win"</span>&gt;</span><span class=tag>&lt;<span class=name>i</span> <span class=attr>class</span>=<span class=string>"fa fa-download"</span>&gt;</span><span class=tag>&lt;/<span class=name>i</span>&gt;</span><span class=tag>&lt;<span class=name>span</span>&gt;</span> Download Now<span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br><span class=line><span class=tag>&lt;/<span class=name>a</span>&gt;</span></span><br></pre></table></figure><p>这也是调用了<strong><em><a href=http://fontawesome.io/examples/ rel="external nofollow noopener noreferrer" target=_blank>Font Awesome</a></em></strong>的方法.<h2 id=代码高亮相关><a href=#代码高亮相关 class=headerlink title=代码高亮相关></a>代码高亮相关</h2><p>先看一则代码<figure class="highlight diff"><figcaption><span>Hello World示例</span><a href=http://yangbingdong.com>这是链接</a></figcaption><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line>	public static void main(String[] args) &#123;</span><br><span class=line><span class=addition>+		System.out.println("Hello World!");</span></span><br><span class=line><span class=deletion>-		System.out.println("Hello World!");</span></span><br><span class=line>	&#125;</span><br></pre></table></figure><p>正确姿势, 代码片段开头:<figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>[language] [title] [url] [link-text]</span><br></pre></table></figure><ul><li><code>[language]</code> 是代码语言的名称, 用来设置代码块颜色高亮, 非必须；<li><code>[title]</code> 是顶部左边的说明, 非必须；<li><code>[url]</code> 是顶部右边的超链接地址, 非必须；<li><code>[link text]</code> 如它的字面意思, 超链接的名称, 非必须.</ul><p>这 4 项应该是根据空格来分隔, 而不是<code>[]</code>, 故请不要加<code>[]</code>. 除非如果你想写后面两个, 但不想写前面两个, 那么就必须加<code>[]</code>了, 要这样写: <code>[] [] [url] [link text]</code>.<p>首先关于代码块颜色高亮, 高亮的模式可以在<strong>主题配置文件</strong>中设置:<figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre><td class=code><pre><span class=line># Code Highlight theme</span><br><span class=line># Available value:</span><br><span class=line>#    normal | night | night eighties | night blue | night bright</span><br><span class=line># https://github.com/chriskempson/tomorrow-theme</span><br><span class=line></span><br><span class=line>highlight_theme: normal</span><br></pre></table></figure><p>要颜色正确高亮, 代码语言的名称肯定要写对, 各种支持语言的名称可以查看<a href=https://almostover.ru/2016-07/hexo-highlight-code-styles/ rel="external nofollow noopener noreferrer" target=_blank>这篇文章</a>. 也可以在站点配置文件<code>_config.yml</code>中设置自动高亮:<figure class="highlight diff"><figcaption><span>blog/_config.yml</span></figcaption><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre><td class=code><pre><span class=line>highlight:</span><br><span class=line>  enable: true</span><br><span class=line>  line_number: true</span><br><span class=line># 代码自动高亮</span><br><span class=line><span class=deletion>-  auto_detect: false</span></span><br><span class=line><span class=addition>+  auto_detect: true</span></span><br></pre></table></figure><p>上边的diff是通过在<code>[language]</code>填写diff, 然后在相应代码前面加上<code>-</code>和<code>+</code><p>顶部的文字样式:<figure class="highlight css"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br></pre><td class=code><pre><span class=line>// 文章```代码块顶部样式</span><br><span class=line><span class=selector-class>.highlight</span> <span class=selector-tag>figcaption</span> &#123;</span><br><span class=line>    <span class=attribute>margin</span>: <span class=number>0em</span>;</span><br><span class=line>    <span class=attribute>padding</span>: <span class=number>0.5em</span>;</span><br><span class=line>    <span class=attribute>background</span>: <span class=number>#eee</span>;</span><br><span class=line>    <span class=attribute>border-bottom</span>: <span class=number>1px</span> solid <span class=number>#e9e9e9</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.highlight</span> <span class=selector-tag>figcaption</span> <span class=selector-tag>a</span> &#123;</span><br><span class=line>    <span class=attribute>color</span>: <span class=built_in>rgb</span>(<span class=number>80</span>, <span class=number>115</span>, <span class=number>184</span>);</span><br><span class=line>&#125;</span><br></pre></table></figure><h1 id=站点加速篇><a href=#站点加速篇 class=headerlink title=站点加速篇></a>站点加速篇</h1><h2 id=更改默认Google字体库><a href=#更改默认Google字体库 class=headerlink title=更改默认Google字体库></a>更改默认Google字体库</h2><p>访问系统总是会耗费一大部分的时间在加载<code>google</code>字体库上, 而且经常加载不成功.<p>方法一: 用国内的CDN库来替代主题中的<code>google</code>字体库, 到<code>主题配置文件</code>中设置默认字体库:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>host: fonts.useso.com</span><br></pre></table></figure><p>方法二: 关掉字体库的引用, 默认加载本地字体库, 到<code>主题配置文件</code>设置:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>font:</span><br><span class=line>  enable: false</span><br></pre></table></figure><h2 id=使用云盘存放图片资源><a href=#使用云盘存放图片资源 class=headerlink title=使用云盘存放图片资源></a>使用云盘存放图片资源</h2><p>由于Github的服务器在海外, 那么如果把图片也放到Github显然是不科学的, 而且Github的存储空间也有局限, 那么在这里博主推荐使用<em><a href=http://www.qiniu.com/ rel="external nofollow noopener noreferrer" target=_blank>七牛云储存</a></em><br>具体怎么做在之前的基础篇已经介绍过了, 详情请看→<em><a href=/2017/build-blog-hexo-base/#%E6%96%B9%E5%BC%8F%E4%B8%89>传送门</a></em><h2 id=压缩代码><a href=#压缩代码 class=headerlink title=压缩代码></a>压缩代码</h2><p>安装插件:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>npm install hexo-all-minifier --save</span><br></pre></table></figure><p>之后执行<code>hexo g</code>就会自动压缩<br>但这有一个<strong>缺点</strong>, 就是本地运行也就是执行<code>hexo s</code>之后浏览器打开本地项目会很慢, 原因是每次点击一个链接它就会重新压缩一次, 所以建议本地调试的时候把项目根目录下的<code>package.json</code>中的<code>&quot;hexo-all-minifier&quot;: &quot;0.0.14&quot;</code>先删掉再调试,或者改成注释:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre><td class=code><pre><span class=line>&quot;dependencies&quot;: &#123;</span><br><span class=line>    .</span><br><span class=line>	.</span><br><span class=line>	.</span><br><span class=line>    &quot;hexo-server&quot;: &quot;^0.2.0&quot;,</span><br><span class=line>    &quot;hexo-wordcount&quot;: &quot;^2.0.1&quot;,</span><br><span class=line>    &quot;this-is-compress-plugin&quot;: &#123;</span><br><span class=line>      &quot;hexo-all-minifier&quot;: &quot;0.0.14&quot;</span><br><span class=line>    &#125;</span><br></pre></table></figure><p>其实也没必要压缩代码, 牺牲了性能, 每次生成静态文件都太慢了, 得不偿失的感觉.<p><strong>高性能</strong>的压缩工具参考这里: <strong><em><a href=/2017/build-blog-hexo-base/#%E6%96%87%E4%BB%B6%E5%8E%8B%E7%BC%A9>minify文件压缩</a></em></strong><h1 id=SEO-搜索引擎优化-篇><a href=#SEO-搜索引擎优化-篇 class=headerlink title=SEO(搜索引擎优化)篇></a>SEO(搜索引擎优化)篇</h1><h2 id=网站验证><a href=#网站验证 class=headerlink title=网站验证></a>网站验证</h2><p>以下是几个搜索引擎的提交入口:<ul><li><strong><em><a href=http://zhanzhang.baidu.com/linksubmit/url rel="external nofollow noopener noreferrer" target=_blank>百度提交入口</a></em></strong><li><strong><em><a href="https://www.google.com/webmasters/tools/home?hl=zh-CN" rel="external nofollow noopener noreferrer" target=_blank>Google提交入口</a></em></strong><li><strong><em><a href=http://info.so.360.cn/site_submit.html rel="external nofollow noopener noreferrer" target=_blank>360提交入口</a></em></strong></ul><p>以百度为例, 谷歌的太简单就不说了:<br>打开<em><a href=http://zhanzhang.baidu.com/linksubmit/url rel="external nofollow noopener noreferrer" target=_blank>百度站长</a></em>验证网站<br><strong>方式一: 文件验证</strong><ul><li>登录百度站长选择添加网站, 使用方式为文件验证<li>将下载的文件放到<code>source</code>文件下<li>由于hexo自动会对html文件进行渲染, 所以在<code>站点配置文件</code>中找到<code>skip_render:</code><li>在后面添加文件名字, 如有多个用<code>[a.html,b.html]</code>, eg:<code>skip_render:[baidu_verify_tdOGHi8IQG.html, baidu_verify_vcJkI72f1e.html]</code><li><p>重新渲染文件<figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>hexo clean</span><br><span class=line>hexo d -g</span><br></pre></table></figure><li><p>然后可以点击百度站长的验证按钮了</ul><p><strong>方式二: CNAME验证</strong><ol><li>去站长添加网站选择CNAME验证<li>把地址解析到zz.baidu.com<li>完成验证</ol><p>就像这样↓<br><img src=https://cdn.yangbingdong.com/img/build-hexo/DNSjiexi.png alt><p><img src=https://cdn.yangbingdong.com/img/build-hexo/baiduyanzheng.png alt><h2 id=添加并提交sitemap><a href=#添加并提交sitemap class=headerlink title=添加并提交sitemap></a>添加并提交sitemap</h2><p>安装hexo的<code>sitemap</code>网站地图生成插件:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>npm install hexo-generator-sitemap --save</span><br><span class=line>npm install hexo-generator-baidu-sitemap --save</span><br></pre></table></figure><p>在<code>站点配置文件</code>中添加如下代码.<br><figure class="highlight yaml"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre><td class=code><pre><span class=line><span class=comment># hexo sitemap</span></span><br><span class=line><span class=attr>sitemap:</span></span><br><span class=line>  <span class=attr>path:</span> <span class=string>sitemap.xml</span></span><br><span class=line></span><br><span class=line><span class=attr>baidusitemap:</span></span><br><span class=line>  <span class=attr>path:</span> <span class=string>baidusitemap.xml</span></span><br></pre></table></figure><p>配置成功后, 会生成<code>sitemap.xml</code>和<code>baidusitemap.xml</code>, 前者适合提交给<strong>谷歌搜素引擎</strong>, 后者适合提交<strong>百度搜索引擎</strong>.<br>百度sitemap提交如下↓<br><img src=https://cdn.yangbingdong.com/img/build-hexo/sitemap.png alt><p>验证成功之后就可以开始推送了, 这里说一下, Google的收录真的快的不要不要的, 第二天就能搜得到, 百度就不想说了, 不知道要等到猴年马月<br><img src=https://cdn.yangbingdong.com/img/build-hexo/GoogleSearch.png alt><h2 id=主动推送><a href=#主动推送 class=headerlink title=主动推送></a>主动推送</h2><p>安装主动推送插件:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>﻿npm install hexo-baidu-url-submit --save</span><br></pre></table></figure><p>在根目录下, 把以下内容配置到<code>站点配置文件</code>中:<br><figure class="highlight yml"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line><span class=attr>baidu_url_submit:</span></span><br><span class=line>  <span class=attr>count:</span> <span class=number>3</span> <span class=comment>## 比如3, 代表提交最新的三个链接</span></span><br><span class=line>  <span class=attr>host:</span> <span class=string>www.henvyluk.com</span> <span class=comment>## 在百度站长平台中注册的域名</span></span><br><span class=line>  <span class=attr>token:</span> <span class=string>your_token</span> <span class=comment>## 请注意这是您的秘钥, 请不要发布在公众仓库里!</span></span><br><span class=line>  <span class=attr>path:</span> <span class=string>baidu_urls.txt</span> <span class=comment>## 文本文档的地址, 新链接会保存在此文本文档里</span></span><br></pre></table></figure><p>至于上面提到的<code>your_token</code>可在百度站长如下位置找到↓<br><img src=https://cdn.yangbingdong.com/img/build-hexo/baidutoken.png alt><br>其次, 记得查看<code>站点配置文件</code>中url的值, 必须包含是百度站长平台注册的域名（一般有www）, 比如:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>url: http://www.ookamiantd.top</span><br><span class=line>root: /</span><br><span class=line>permalink: :year/:month/:day/:title/</span><br></pre></table></figure><p>接下来添加一个新的<code>deploy</code>的类型:<br><figure class="highlight yml"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre><td class=code><pre><span class=line><span class=comment># Deployment</span></span><br><span class=line><span class=comment>## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class=line><span class=attr>deploy:</span></span><br><span class=line><span class=bullet>-</span> <span class=attr>type:</span> <span class=string>baidu_url_submitter</span></span><br><span class=line><span class=bullet>-</span> <span class=attr>type:</span> <span class=string>git</span></span><br><span class=line>  <span class=attr>repo:</span></span><br><span class=line>    <span class=attr>github:</span> <span class=string>git@github.com:masteranthoneyd/masteranthoneyd.github.io.git,master</span></span><br><span class=line>    <span class=attr>coding:</span> <span class=string>git@git.coding.net:ookamiantd/ookamiantd.git,master</span></span><br></pre></table></figure><p>执行<code>hexo deploy</code>的时候, 新的连接就会被推送了. 这里讲一下原理:<ul><li>新链接的产生, <code>hexo generate</code>会产生一个文本文件, 里面包含最新的链接<li>新链接的提交, <code>hexo deploy</code>会从上述文件中读取链接, 提交至百度搜索引擎</ul><h2 id=自动推送><a href=#自动推送 class=headerlink title=自动推送></a>自动推送</h2><p>把next<code>主题配置文件</code>中的<code>baidu_push</code>设置为<code>true</code>, 就可以了.<h2 id=添加蜘蛛协议><a href=#添加蜘蛛协议 class=headerlink title=添加蜘蛛协议></a>添加蜘蛛协议</h2><p>在<code>/source/</code>目录下新建一个<code>robots.txt</code>文件, 添加下面的一段代码:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br></pre><td class=code><pre><span class=line>#hexo robots.txt</span><br><span class=line>User-agent: *</span><br><span class=line></span><br><span class=line>Allow: /</span><br><span class=line>Allow: /archives/</span><br><span class=line></span><br><span class=line>Disallow: /vendors/</span><br><span class=line>Disallow: /js/</span><br><span class=line>Disallow: /css/</span><br><span class=line>Disallow: /fonts/</span><br><span class=line>Disallow: /vendors/</span><br><span class=line>Disallow: /fancybox/</span><br><span class=line></span><br><span class=line>Sitemap: http://blog.tangxiaozhu.com/search.xml</span><br><span class=line>Sitemap: http://blog.tangxiaozhu.com/sitemap.xml</span><br><span class=line>Sitemap: http://blog.tangxiaozhu.com/baidusitemap.xml</span><br></pre></table></figure><p>然后到百度站长更新一下, 就像这样↓<br><img src=https://cdn.yangbingdong.com/img/build-hexo/robots.png alt><h2 id=修改文章链接><a href=#修改文章链接 class=headerlink title=修改文章链接></a>修改文章链接</h2><p>hexo默认的文章链接形式为<code>domain/year/month/day/postname</code>, 默认就是一个四级<code>url</code>, 并且可能造成<code>url</code>过长, 对搜索引擎是十分不友好的, 我们可以改成<code>domain/postname</code>的形式. 编辑<code>站点配置文件</code>文件, 修改其中的<code>permalink</code>字段为<code>permalink: :title.html</code>即可.<h2 id=更改首页标题格式为「关键词-网站名称-网站描述」><a href=#更改首页标题格式为「关键词-网站名称-网站描述」 class=headerlink title="更改首页标题格式为「关键词-网站名称 - 网站描述」"></a>更改首页标题格式为「关键词-网站名称 - 网站描述」</h2><p>打开<code>\themes\next\layout\index.swig</code>文件, 找到这行代码:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>&#123;% block title %&#125; &#123;&#123; config.title &#125;&#125; &#123;% endblock %&#125;</span><br></pre></table></figure><p>把它改成:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>&#123;% block title %&#125;</span><br><span class=line> &#123;&#123; theme.keywords &#125;&#125; - &#123;&#123; config.title &#125;&#125; - &#123;&#123; theme.description &#125;&#125;</span><br><span class=line>&#123;% endblock %&#125;</span><br></pre></table></figure><h2 id=自动给所有外部链接添加nofollow><a href=#自动给所有外部链接添加nofollow class=headerlink title=自动给所有外部链接添加nofollow></a>自动给所有外部链接添加nofollow</h2><p>安装<code>hexo-autonofollow</code>, 在站点的根目录下执行以下命令:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>npm install hexo-autonofollow --save</span><br></pre></table></figure><p>编辑<strong>站点配置文件</strong>, 新增以下内容到任意位置:<br><figure class="highlight yml"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line><span class=attr>nofollow:</span></span><br><span class=line>  <span class=attr>enable:</span> <span class=literal>true</span></span><br><span class=line>  <span class=attr>exclude:</span></span><br><span class=line>  <span class=bullet>-</span> <span class=string>exclude1.com</span></span><br><span class=line>  <span class=bullet>-</span> <span class=string>exclude2.com</span></span><br></pre></table></figure><h1 id=多PC同步源码篇><a href=#多PC同步源码篇 class=headerlink title=多PC同步源码篇></a>多PC同步源码篇</h1><p>1.准备工作: 公司电脑和家里电脑配置git ssh密钥连接<p>2.上传blog到git: 此项建议先在blog进度最新的PC上进行, 否则会有版本冲突, 解决也比较麻烦. 在PC上建立git ssh密钥连接和建立新库respo在此略过:<ul><li>编辑<code>.gitignore</code>文件: <code>.gitignore</code>文件作用是声明不被git记录的文件, blog根目录下的<code>.gitignore</code>是hexo初始化是创建的, 可以直接编辑, 建议<code>.gitignore</code>文件包括以下内容:</ul><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line>.DS_Store      </span><br><span class=line>Thumbs.db      </span><br><span class=line>db.json      </span><br><span class=line>*.log      </span><br><span class=line>node_modules/      </span><br><span class=line>public/      </span><br><span class=line>.deploy*/</span><br></pre></table></figure><p><code>public</code>内的文件可以根据<code>source</code>文件夹内容自动生成的, 不需要备份. 其他日志、压缩、数据库等文件也都是调试等使用, 也不需要备份.<p>初始化仓库:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>git init    </span><br><span class=line>git remote add origin &lt;server&gt;</span><br></pre></table></figure><p><code>server</code>是仓库的在线目录地址, 可以从git上直接复制过来, <code>origin</code>是本地分支, <code>remote add</code>会将本地仓库映射到托管服务器的仓库上.<p>添加本地文件到仓库并同步到git上:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>git add . #添加blog目录下所有文件, 注意有个&apos;.&apos;(.gitignore里面声明的文件不在此内)    </span><br><span class=line>git commit -m &quot;hexo source first add&quot; #添加更新说明    </span><br><span class=line>git push -u origin master  #推送更新到git上</span><br></pre></table></figure><p>至此, git库上备份已完成.<p>3.将git的内容同步到另一台电脑: 假设之前将公司电脑中的blog源码内容备份到了git上, 现在家里电脑准备同步源码内容. <strong>注意</strong>, 在同步前也要事先建好hexo的环境, 不然同步后本地服务器运行时会出现无法运行错误. 在建好的环境的主目录运行以下命令:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line>git init  #将目录添加到版本控制系统中    </span><br><span class=line>git remote add origin &lt;server&gt;  #同上    </span><br><span class=line>git fetch --all  #将git上所有文件拉取到本地    </span><br><span class=line>git reset --hard origin/master  #强制将本地内容指向刚刚同步git云端内容</span><br></pre></table></figure><p><code>reset</code>对所拉取的文件不做任何处理, 此处不用<code>pull</code>是因为本地尚有许多文件, 使用<code>pull</code>会有一些<strong>版本冲突</strong>, 解决起来也麻烦, 而本地的文件都是初始化生成的文件, 较拉取的库里面的文件而言基本无用, 所以直接丢弃.<p>4.家里电脑生成完文章并部署到服务器上后, 此时需要将新的blog源码文件更新到git托管库上, 不然公司电脑上无法获取最新的文章. 在本地文件中运行以下命令:<figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git add . #将所有更新的本地文件添加到版本控制系统中</span><br></pre></table></figure><p>此时可以使用<code>git status</code>查看本地文件的状态. 然后对更改添加说明更推送到git托管库上:<figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>git commit -m &apos;更新信息说明&apos;  </span><br><span class=line>git push</span><br></pre></table></figure><p>至此, 家里电脑更新的备份完成. 在公司电脑上使用时, 只需先运行:<br><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git pull</span><br></pre></table></figure><p>获取的源码即为最新文件<h1 id=插件总结篇><a href=#插件总结篇 class=headerlink title=插件总结篇></a>插件总结篇</h1><h2 id=部署插件><a href=#部署插件 class=headerlink title=部署插件></a>部署插件</h2><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>npm install hexo-deployer-git --save</span><br></pre></table></figure><h2 id=rss><a href=#rss class=headerlink title=rss></a>rss</h2><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>npm install hexo-generator-feed --save</span><br></pre></table></figure><h2 id=Algolia><a href=#Algolia class=headerlink title=Algolia></a>Algolia</h2><p>此处有两个版本<p><strong>第一</strong>（以<code>0.2.0</code>为例）:<p>在站点找到<code>package.json</code>, 把添加一行<code>&quot;hexo-algolia&quot;: &quot;^0.2.0&quot;</code>, 然后:<figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>npm install hexo-algolia --save</span><br></pre></table></figure><p>这个为旧版的algolia, 优点是全文索引, 缺点是字数太多会索引失败<p><strong>第二</strong>: 直接安装<figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>npm install hexo-algolia --save hexo algolia</span><br></pre></table></figure><p>此处安装的应该是<code>1.0.0</code>之后的版本了, 优点是没有字数限制了（因为没有了全文索引）, 只会索引文章开头的部分字段. 但是需要在官网注册新key并且设置环境变量, 方法: <strong><em><a href=https://github.com/iissnan/theme-next-docs/issues/162 rel="external nofollow noopener noreferrer" target=_blank>https://github.com/iissnan/theme-next-docs/issues/162</a></em></strong><h2 id=sitemap><a href=#sitemap class=headerlink title=sitemap></a>sitemap</h2><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>npm install hexo-generator-sitemap --save</span><br><span class=line>npm install hexo-generator-baidu-sitemap --save</span><br></pre></table></figure><h2 id=百度主动推送><a href=#百度主动推送 class=headerlink title=百度主动推送></a>百度主动推送</h2><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>npm install hexo-baidu-url-submit --save</span><br></pre></table></figure><h2 id=分页插件><a href=#分页插件 class=headerlink title=分页插件></a>分页插件</h2><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line>npm install hexo-generator-index --save</span><br><span class=line>npm install hexo-generator-archive --save</span><br><span class=line>npm install hexo-generator-category --save</span><br><span class=line>npm install hexo-generator-tag --save</span><br></pre></table></figure><p>站点配置文件:<br><figure class="highlight yml"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br></pre><td class=code><pre><span class=line><span class=attr>index_generator:</span></span><br><span class=line>  <span class=attr>per_page:</span> <span class=number>6</span></span><br><span class=line></span><br><span class=line><span class=attr>archive_generator:</span></span><br><span class=line>  <span class=attr>per_page:</span> <span class=number>10</span> <span class=comment>##归档页面默认20篇文章标题</span></span><br><span class=line>  <span class=attr>yearly:</span> <span class=literal>true</span>  <span class=comment>##生成年视图</span></span><br><span class=line>  <span class=attr>monthly:</span> <span class=literal>true</span> <span class=comment>##生成月视图</span></span><br><span class=line></span><br><span class=line><span class=attr>tag_generator:</span></span><br><span class=line>  <span class=attr>per_page:</span> <span class=number>10</span></span><br></pre></table></figure><h2 id=压缩插件><a href=#压缩插件 class=headerlink title=压缩插件></a>压缩插件</h2><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>npm install hexo-all-minifier --save</span><br></pre></table></figure><h2 id=七牛admin插件><a href=#七牛admin插件 class=headerlink title=七牛admin插件></a>七牛admin插件</h2><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>npm install --save hexo-admin-qiniu</span><br><span class=line>hexo server -d</span><br><span class=line>open http://localhost:4000/admin/</span><br></pre></table></figure><p>站点配置文件:<br><figure class="highlight yml"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=attr>admin:</span></span><br><span class=line>  <span class=attr>qiniuCfg:</span></span><br><span class=line>      <span class=attr>imageslim:</span> <span class=literal>true</span>  <span class=comment># 启动图片瘦身, 仅华东区bucket可以使用</span></span><br><span class=line>      <span class=attr>AccessKey:</span> <span class=string>'your qiniu AK'</span></span><br><span class=line>      <span class=attr>SecretKey:</span> <span class=string>'your qiniu SK'</span></span><br><span class=line>      <span class=attr>BucketName:</span> <span class=string>'your BK Name'</span></span><br><span class=line>      <span class=attr>bucketHost:</span> <span class=string>'you BK Host'</span></span><br></pre></table></figure><h2 id=注脚插件><a href=#注脚插件 class=headerlink title=注脚插件></a>注脚插件</h2><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>npm install hexo-reference --save</span><br></pre></table></figure><h2 id=字数与阅读时间插件><a href=#字数与阅读时间插件 class=headerlink title=字数与阅读时间插件></a>字数与阅读时间插件</h2><figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>npm install hexo-wordcount --save</span><br></pre></table></figure><h1 id=主题升级备份><a href=#主题升级备份 class=headerlink title=主题升级备份></a>主题升级备份</h1><p>对于升级主题, 我们需要重新配置主题配置文件, 那么每次升级都要这么干吗？超麻烦！<p>NexT作者给我们的建议就是使用<strong><em><a href=https://hexo.io/docs/data-files.html rel="external nofollow noopener noreferrer" target=_blank>Data Files</a></em></strong>, 具体详情请戳进 <strong><em><a href=https://github.com/iissnan/hexo-theme-next/issues/328 rel="external nofollow noopener noreferrer" target=_blank>Theme configurations using Hexo data files #328</a></em></strong><h1 id=图片链接全局替换><a href=#图片链接全局替换 class=headerlink title=图片链接全局替换></a>图片链接全局替换</h1><p>由于七牛的测试域名已回收, 无奈只能备案换成自己的域名. 本案后在七牛添加CDN, 确认可以访问后, 利用<code>sed</code>进行全局替换:<figure class="highlight plain"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sed -i &quot;s/http:\/\/img.yangbingdong.com/https:\/\/cdn.yangbingdong.com/g&quot; ./*</span><br></pre></table></figure><h1 id=最后><a href=#最后 class=headerlink title=最后></a>最后</h1><p>一路摸爬滚打下来也挺折腾的, 不过确实满满的成就感, 学到了很多<br>同时还要感谢很多很多的大神们的文章, 有一些都忘了收藏记录下来, 由衷地感谢<blockquote><p><strong>参考</strong><br><strong><em><a href=http://codepub.cn/2015/04/06/Github-Pages-personal-blog-from-Octopress-to-Hexo/ rel="external nofollow noopener noreferrer" target=_blank>http://codepub.cn/2015/04/06/Github-Pages-personal-blog-from-Octopress-to-Hexo/</a></em></strong><br><strong><em><a href=http://codepub.cn/2016/03/20/Hexo-blog-theme-switching-from-Jacman-to-NexT-Mist/ rel="external nofollow noopener noreferrer" target=_blank>http://codepub.cn/2016/03/20/Hexo-blog-theme-switching-from-Jacman-to-NexT-Mist/</a></em></strong><br><strong><em><a href=http://www.shellsec.com/news/34054.html rel="external nofollow noopener noreferrer" target=_blank>http://www.shellsec.com/news/34054.html</a></em></strong><br><strong><em><a href=https://www.0101tx.com/pages/hexonextsanf.html rel="external nofollow noopener noreferrer" target=_blank>https://www.0101tx.com/pages/hexonextsanf.html</a></em></strong><br><strong><em><a href=https://reuixiy.github.io/technology/computer/computer-aided-art/2017/06/09/hexo-next-optimization.html rel="external nofollow noopener noreferrer" target=_blank>https://reuixiy.github.io/technology/computer/computer-aided-art/2017/06/09/hexo-next-optimization.html</a></em></strong><br><strong><em><a href=https://io-oi.me/tech/hexo-next-optimization.html rel="external nofollow noopener noreferrer" target=_blank>https://io-oi.me/tech/hexo-next-optimization.html</a></em></strong></blockquote><div id=footnotes><hr><div id=footnotelist><ol style=list-style:none;padding-left:0;margin-left:40px><li id=fn:1><span style=display:inline-block;vertical-align:top;padding-right:10px;margin-left:-40px>1.</span><span style=display:inline-block;vertical-align:top;margin-left:10px>basic footnote content<a href=#fnref:1 rev=footnote> ↩</a></span></ol></div></div></div><div style=text-align:center;color:#ccc;font-size:14px>---------------- The End ----------------</div><div><div id=wechat_subscriber style="display:block;padding:10px 0;margin:20px auto;width:100%;text-align:center"><img id=wechat_subscriber_qcode src=/images/wechat/gongzhonghao.jpg alt="ookamiAntD wechat" style=width:200px;max-width:100%><div>欢迎您扫一扫上面的微信公众号，订阅我的博客！</div></div></div><div><div style="padding:10px 0;margin:20px auto;width:90%;text-align:center"><div>谢谢大爷～</div><button id=rewardButton disable=enable onclick="var qr=document.getElementById('QR');if(qr.style.display==='none'){qr.style.display='block';}else{qr.style.display='none'}">
<span>赏</span></button><div id=QR style=display:none><div id=wechat style=display:inline-block><img id=wechat_qr src=/images/donate/wechat.png alt="ookamiAntD WeChat Pay"><p>微信打赏</div><div id=alipay style=display:inline-block><img id=alipay_qr src=/images/donate/alipay.jpg alt="ookamiAntD Alipay"><p>支付宝打赏</div></div></div></div><div><p id=div-border-left-red>Author：<b>ookamiAntD Yang</b><br>Link：<a href=/2017/build-blog-hexo-advanced/ title=基于Hexo搭建个人博客——进阶篇(从入门到入土)>http://yangbingdong.com/2017/build-blog-hexo-advanced/</a><br>Contact：<a>yangbingdong1994@gmail.com</a><br><b>本文基于<a target=_blank title="Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)" href=http://creativecommons.org/licenses/by-sa/4.0/ rel="external nofollow noopener noreferrer"> 知识共享署名-相同方式共享 4.0 </a>国际许可协议发布</b><br><b>转载请注明出处，谢谢！</b></div><footer class=post-footer><div class=post-tags><a href=/tags/Hexo/ rel=tag><i class="fa fa-tag"></i>Hexo</a>
<a href=/tags/Node-js/ rel=tag><i class="fa fa-tag"></i>Node.js</a>
<a href=/tags/Github/ rel=tag><i class="fa fa-tag"></i>Github</a>
<a href=/tags/Coding/ rel=tag><i class="fa fa-tag"></i>Coding</a>
<a href=/tags/Git/ rel=tag><i class="fa fa-tag"></i>Git</a></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=/2017/ubuntu-dev-environment-to-build/ rel=next title=Ubuntu的Java开发环境基本搭建><i class="fa fa-chevron-left"></i>Ubuntu的Java开发环境基本搭建</a></div><span class=post-nav-divider></span><div class="post-nav-prev post-nav-item"><a href=/2017/java-dev-ten-mistake-and-some-advice/ rel=prev title=Java开发人员最常犯的10个错误以及35个代码性能优化小结>Java开发人员最常犯的10个错误以及35个代码性能优化小结 <i class="fa fa-chevron-right"></i></a></div></div></footer></article><div class=post-spread><div class=-hoofoo-share-title>分享到：</div><div class=-hoofoo-share-buttons><div class="-mob-share-weibo -hoofoo-share-weibo -hoofoo-share-ui-button"><i class="fa fa-weibo" aria-hidden=true></i></div><div class="-mob-share-weixin -hoofoo-share-weixin -hoofoo-share-ui-button"><i class="fa fa-weixin" aria-hidden=true></i></div><div class="-mob-share-qq -hoofoo-share-qq -hoofoo-share-ui-button"><i class="fa fa-qq" aria-hidden=true></i></div><div class="-mob-share-twitter -hoofoo-share-twitter -hoofoo-share-ui-button"><i class="fa fa-twitter" aria-hidden=true></i></div><div class="-hoofoo-share-more -hoofoo-share-ui-button -mob-share-open"><i class="fa fa-ellipsis-h" aria-hidden=true></i></div></div><div class=-mob-share-ui style=display:none><ul class=-mob-share-list><li class=-mob-share-weibo><p>新浪微博<li class=-mob-share-weixin><p>微信<li class=-mob-share-qzone><p>QQ空间<li class=-mob-share-qq><p>QQ好友<li class=-mob-share-tencentweibo><p>腾讯微博<li class=-mob-share-renren><p>人人网<li class=-mob-share-kaixin><p>开心网<li class=-mob-share-douban><p>豆瓣<li class=-mob-share-youdao><p>有道云笔记<li class=-mob-share-mingdao><p>明道<li class=-mob-share-pengyou><p>朋友网<li class=-mob-share-facebook><p>Facebook<li class=-mob-share-twitter><p>Twitter<li class=-mob-share-pocket><p>Pocket<li class=-mob-share-google><p>Google+<li class=-mob-share-tumblr><p>Tumblr<li class=-mob-share-instapaper><p>Instapaper<li class=-mob-share-linkedin><p>Linkedin</ul><div class=-mob-share-close>取消</div></div><div class=-mob-share-ui-bg></div><script id=-mob-share src="https://f1.webshare.mob.com/code/mob-share.js?appkey=21aa3b13ad233"></script></div></div></div><div class=comments id=comments><div style=text-align:center></div><div id=disqus_proxy_thread></div><div id=disqus_thread></div><script>window.disqusProxy={username:'ookamiantd',server:'disqus-proxy.yangbingdong.com',port:'',defaultAvatar:'/images/avatar/avatar-default.jpg',adminAvatar:'/images/avatar/avatar-admin.jpg',identifier:'2017/build-blog-hexo-advanced/'};window.disqus_config=function(){this.page.url='http://yangbingdong.com/2017/build-blog-hexo-advanced/';this.page.identifier='2017/build-blog-hexo-advanced/';};window.onload=function(){var s=document.createElement('script');s.src="/static/js/main.0d0338ae.js";s.async=true;document.body.appendChild(s);}</script><link rel=stylesheet href=/static/css/main.0603c539.css></div></div><div class=sidebar-toggle><div class=sidebar-toggle-line-wrap><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id=sidebar class=sidebar><div class=sidebar-inner><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target=post-toc-wrap>Table of Contents<li class=sidebar-nav-overview data-target=site-overview>Overview</ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image src=/images/avatar/avatar-admin.jpg alt=ookamiAntD><p class=site-author-name itemprop=name>ookamiAntD<p class="site-description motion-element" itemprop=description>码渣 | rocker | 二次元 | 美剧 | 宅</div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href=/archives><span class=site-state-item-count>46</span>
<span class=site-state-item-name>posts</span></a></div><div class="site-state-item site-state-categories"><a href=/categories><span class=site-state-item-count>17</span>
<span class=site-state-item-name>categories</span></a></div><div class="site-state-item site-state-tags"><a href=/tags><span class=site-state-item-count>43</span>
<span class=site-state-item-name>tags</span></a></div></nav><div class="feed-link motion-element"><a href=/atom.xml rel=alternate><i class="fa fa-rss"></i>RSS</a></div><div class="links-of-author motion-element"><span class=links-of-author-item><a href=https://github.com/masteranthoneyd target=_blank rel="external nofollow noopener noreferrer" title=GitHub><i class="fa fa-fw fa-github"></i>GitHub</a></span>
<span class=links-of-author-item><a href="https://www.facebook.com/profile.php?id=100014869064462" target=_blank rel="external nofollow noopener noreferrer" title=Facebook><i class="fa fa-fw fa-facebook"></i>Facebook</a></span>
<span class=links-of-author-item><a href=https://twitter.com/ookamiAntD target=_blank rel="external nofollow noopener noreferrer" title=Twitter><i class="fa fa-fw fa-twitter"></i>Twitter</a></span></div><div class="cc-license motion-element" itemprop=license><a href=https://creativecommons.org/licenses/by-sa/4.0/ class=cc-opacity target=_blank rel="external nofollow noopener noreferrer"><img src=/images/cc-by-sa.svg alt="Creative Commons"></a></div><div class="links-of-blogroll motion-element links-of-blogroll-block"><div class=links-of-blogroll-title><i class="fa  fa-fw fa-globe"></i>大神们的博客</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=https://mercyblitz.github.io/ title=mercyblitz(Java劝退师) target=_blank rel="external nofollow noopener noreferrer">mercyblitz(Java劝退师)</a><li class=links-of-blogroll-item><a href=https://muyinchen.github.io/ title=知秋大神(真·大神) target=_blank rel="external nofollow noopener noreferrer">知秋大神(真·大神)</a><li class=links-of-blogroll-item><a href=http://crossoverjie.top/ title="crossoverJie's Blog" target=_blank rel="external nofollow noopener noreferrer">crossoverJie's Blog</a><li class=links-of-blogroll-item><a href=http://yemengying.com/ title="Giraffe's Home" target=_blank rel="external nofollow noopener noreferrer">Giraffe's Home</a></ul></div><div id=days></div><script>function show_date_time(){window.setTimeout("show_date_time()",1000);BirthDay=new Date("01/10/2017 12:34:56");today=new Date();timeold=(today.getTime()-BirthDay.getTime());sectimeold=timeold/1000
secondsold=Math.floor(sectimeold);msPerDay=24*60*60*1000
e_daysold=timeold/msPerDay
daysold=Math.floor(e_daysold);e_hrsold=(e_daysold-daysold)*24;hrsold=setzero(Math.floor(e_hrsold));e_minsold=(e_hrsold-hrsold)*60;minsold=setzero(Math.floor((e_hrsold-hrsold)*60));seconds=setzero(Math.floor((e_minsold-minsold)*60));document.getElementById('days').innerHTML="已运行"+daysold+"天"+hrsold+"小时"+minsold+"分"+seconds+"秒";}
function setzero(i){if(i<10)
{i="0"+i};return i;}
show_date_time();</script></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class=post-toc><div class=post-toc-content><ol class=nav><li class="nav-item nav-level-1"><a class=nav-link href=#前言><span class=nav-number>1.</span> <span class=nav-text>前言</span></a><li class="nav-item nav-level-1"><a class=nav-link href=#解决Hexo命令fs-SyncWriteStream问题><span class=nav-number>2.</span> <span class=nav-text>解决Hexo命令fs.SyncWriteStream问题</span></a><li class="nav-item nav-level-1"><a class=nav-link href=#高度定制优化篇><span class=nav-number>3.</span> <span class=nav-text>高度定制优化篇</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#集成Mod分享组件><span class=nav-number>3.1.</span> <span class=nav-text>集成Mod分享组件</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#添加顶部加载条><span class=nav-number>3.2.</span> <span class=nav-text>添加顶部加载条</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#文章加密访问><span class=nav-number>3.3.</span> <span class=nav-text>文章加密访问</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#博客更换Disqus评论><span class=nav-number>3.4.</span> <span class=nav-text>博客更换Disqus评论</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#NexT启用Disqus-Proxy-不翻墙也能使用Disqus><span class=nav-number>3.5.</span> <span class=nav-text>NexT启用Disqus-Proxy 不翻墙也能使用Disqus</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#Flow><span class=nav-number>3.5.1.</span> <span class=nav-text>Flow</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#Get-Api-secret><span class=nav-number>3.5.2.</span> <span class=nav-text>Get Api-secret</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#Deploy-Disqus-Proxy><span class=nav-number>3.5.3.</span> <span class=nav-text>Deploy Disqus-Proxy</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#NexT-Configuration><span class=nav-number>3.5.4.</span> <span class=nav-text>NexT Configuration</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#Copy-Static-File><span class=nav-number>3.5.4.1.</span> <span class=nav-text>Copy Static File</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#config-yml><span class=nav-number>3.5.4.2.</span> <span class=nav-text>_config.yml</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#comment-swig><span class=nav-number>3.5.4.3.</span> <span class=nav-text>comment.swig</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#custom-styl><span class=nav-number>3.5.4.4.</span> <span class=nav-text>custom.styl</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#Problem><span class=nav-number>3.5.5.</span> <span class=nav-text>Problem</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#Show><span class=nav-number>3.5.6.</span> <span class=nav-text>Show</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#修改文章页宽><span class=nav-number>3.6.</span> <span class=nav-text>修改文章页宽</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#修改小型代码块颜色><span class=nav-number>3.7.</span> <span class=nav-text>修改小型代码块颜色</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#文章末尾追加版权信息><span class=nav-number>3.8.</span> <span class=nav-text>文章末尾追加版权信息</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#添加文章结束标记><span class=nav-number>3.9.</span> <span class=nav-text>添加文章结束标记</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#添加热度><span class=nav-number>3.10.</span> <span class=nav-text>添加热度</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#添加Fork-me-on-GitHub><span class=nav-number>3.11.</span> <span class=nav-text>添加Fork me on GitHub</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#把侧边栏头像变成圆形-并且鼠标停留在上面发生旋转效果><span class=nav-number>3.12.</span> <span class=nav-text>把侧边栏头像变成圆形, 并且鼠标停留在上面发生旋转效果</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#修改链接文字样式><span class=nav-number>3.13.</span> <span class=nav-text>修改链接文字样式</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#为next主题的主页文章添加阴影效果><span class=nav-number>3.14.</span> <span class=nav-text>为next主题的主页文章添加阴影效果</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#为next主题添加nest背景特效><span class=nav-number>3.15.</span> <span class=nav-text>为next主题添加nest背景特效</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#特性><span class=nav-number>3.15.1.</span> <span class=nav-text>特性</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#如何添加><span class=nav-number>3.15.2.</span> <span class=nav-text>如何添加?</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#修改代码><span class=nav-number>3.15.2.1.</span> <span class=nav-text>修改代码</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#修改主题配置文件><span class=nav-number>3.15.2.2.</span> <span class=nav-text>修改主题配置文件</span></a></ol></ol><li class="nav-item nav-level-2"><a class=nav-link href=#鼠标点击爆炸特效><span class=nav-number>3.16.</span> <span class=nav-text>鼠标点击爆炸特效</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#添加音乐><span class=nav-number>3.17.</span> <span class=nav-text>添加音乐</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#添加注脚><span class=nav-number>3.18.</span> <span class=nav-text>添加注脚</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#自定义页面><span class=nav-number>3.19.</span> <span class=nav-text>自定义页面</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#添加字数统计和阅读时间><span class=nav-number>3.20.</span> <span class=nav-text>添加字数统计和阅读时间</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#安装插件><span class=nav-number>3.20.1.</span> <span class=nav-text>安装插件</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#修改post-swig模板><span class=nav-number>3.20.2.</span> <span class=nav-text>修改post.swig模板</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#修改footer><span class=nav-number>3.21.</span> <span class=nav-text>修改footer</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#给博客添加吉祥物><span class=nav-number>3.22.</span> <span class=nav-text>给博客添加吉祥物</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#侧栏加入已运行的时间><span class=nav-number>3.23.</span> <span class=nav-text>侧栏加入已运行的时间</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#更改标签云（tagcloud）的颜色><span class=nav-number>3.24.</span> <span class=nav-text>更改标签云（tagcloud）的颜色</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#设置动态title><span class=nav-number>3.25.</span> <span class=nav-text>设置动态title</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#修改文章底部的那个带-号的标签><span class=nav-number>3.26.</span> <span class=nav-text>修改文章底部的那个带#号的标签</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#元素微调自定义篇><span class=nav-number>4.</span> <span class=nav-text>元素微调自定义篇</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#定位元素><span class=nav-number>4.1.</span> <span class=nav-text>定位元素</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#添加到样式文件><span class=nav-number>4.2.</span> <span class=nav-text>添加到样式文件</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#好玩的样式><span class=nav-number>4.3.</span> <span class=nav-text>好玩的样式</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#文字增加背景色块><span class=nav-number>4.3.1.</span> <span class=nav-text>文字增加背景色块</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#引用边框变色><span class=nav-number>4.3.2.</span> <span class=nav-text>引用边框变色</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#在文档中增加图标><span class=nav-number>4.3.3.</span> <span class=nav-text>在文档中增加图标</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#图形边框效果><span class=nav-number>4.3.4.</span> <span class=nav-text>图形边框效果</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#代码高亮相关><span class=nav-number>4.4.</span> <span class=nav-text>代码高亮相关</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#站点加速篇><span class=nav-number>5.</span> <span class=nav-text>站点加速篇</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#更改默认Google字体库><span class=nav-number>5.1.</span> <span class=nav-text>更改默认Google字体库</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#使用云盘存放图片资源><span class=nav-number>5.2.</span> <span class=nav-text>使用云盘存放图片资源</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#压缩代码><span class=nav-number>5.3.</span> <span class=nav-text>压缩代码</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#SEO-搜索引擎优化-篇><span class=nav-number>6.</span> <span class=nav-text>SEO(搜索引擎优化)篇</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#网站验证><span class=nav-number>6.1.</span> <span class=nav-text>网站验证</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#添加并提交sitemap><span class=nav-number>6.2.</span> <span class=nav-text>添加并提交sitemap</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#主动推送><span class=nav-number>6.3.</span> <span class=nav-text>主动推送</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#自动推送><span class=nav-number>6.4.</span> <span class=nav-text>自动推送</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#添加蜘蛛协议><span class=nav-number>6.5.</span> <span class=nav-text>添加蜘蛛协议</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#修改文章链接><span class=nav-number>6.6.</span> <span class=nav-text>修改文章链接</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#更改首页标题格式为「关键词-网站名称-网站描述」><span class=nav-number>6.7.</span> <span class=nav-text>更改首页标题格式为「关键词-网站名称 - 网站描述」</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#自动给所有外部链接添加nofollow><span class=nav-number>6.8.</span> <span class=nav-text>自动给所有外部链接添加nofollow</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#多PC同步源码篇><span class=nav-number>7.</span> <span class=nav-text>多PC同步源码篇</span></a><li class="nav-item nav-level-1"><a class=nav-link href=#插件总结篇><span class=nav-number>8.</span> <span class=nav-text>插件总结篇</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#部署插件><span class=nav-number>8.1.</span> <span class=nav-text>部署插件</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#rss><span class=nav-number>8.2.</span> <span class=nav-text>rss</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#Algolia><span class=nav-number>8.3.</span> <span class=nav-text>Algolia</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#sitemap><span class=nav-number>8.4.</span> <span class=nav-text>sitemap</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#百度主动推送><span class=nav-number>8.5.</span> <span class=nav-text>百度主动推送</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#分页插件><span class=nav-number>8.6.</span> <span class=nav-text>分页插件</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#压缩插件><span class=nav-number>8.7.</span> <span class=nav-text>压缩插件</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#七牛admin插件><span class=nav-number>8.8.</span> <span class=nav-text>七牛admin插件</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#注脚插件><span class=nav-number>8.9.</span> <span class=nav-text>注脚插件</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#字数与阅读时间插件><span class=nav-number>8.10.</span> <span class=nav-text>字数与阅读时间插件</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#主题升级备份><span class=nav-number>9.</span> <span class=nav-text>主题升级备份</span></a><li class="nav-item nav-level-1"><a class=nav-link href=#图片链接全局替换><span class=nav-number>10.</span> <span class=nav-text>图片链接全局替换</span></a><li class="nav-item nav-level-1"><a class=nav-link href=#最后><span class=nav-number>11.</span> <span class=nav-text>最后</span></a></ol></div></div></section></div></aside></div></main><footer id=footer class=footer><div class=footer-inner><div class=busuanzi-count><script async src=https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><span class=site-uv><i class="fa fa-user">本站访客数</i><span class=busuanzi-value id=busuanzi_value_site_uv></span>人次</span>
<span class=site-pv><i class="fa fa-eye">本站总访问量</i><span class=busuanzi-value id=busuanzi_value_site_pv></span>次</span></div><div class=copyright>&copy; 2016 -
<span itemprop=copyrightYear>2020</span>
<span class=with-love><i class="fa fa-flash"></i></span><span class=author itemprop=copyrightHolder>Hosted by <a href=https://pages.coding.me style=font-weight:700 rel="external nofollow noopener noreferrer" target=_blank>Coding Pages</a></span> | <span class=post-count>共277.3k字</span></div><div class=theme-info><a target=_blank href=http://www.miibeian.gov.cn/ rel=nofollow style=color:#555>粤ICP备18135202号-1</a></div><div style="width:300px;margin:0 auto"><a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=44010602005896" style=display:inline-block;text-decoration:none;height:20px;line-height:20px><img src=https://cdn.yangbingdong.com/img/beian/beian.png style=float:left><p style="float:left;height:20px;line-height:20px;margin:0 0 0 5px;color:#555">粤公网安备 44010602005896号</p></a></div></div></footer><div class=back-to-top><i class="fa fa-arrow-up"></i></div></div><script>if(Object.prototype.toString.call(window.Promise)!=='[object Function]'){window.Promise=null;}</script><script src="/lib/jquery/index.js?v=2.1.3"></script><script src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script src="/js/src/utils.js?v=5.1.0"></script><script src="/js/src/motion.js?v=5.1.0"></script><script src="/js/src/scrollspy.js?v=5.1.0"></script><script src="/js/src/post-details.js?v=5.1.0"></script><script src="/js/src/bootstrap.js?v=5.1.0"></script><script>var disqus_shortname='ookamiantd';var disqus_identifier='2017/build-blog-hexo-advanced/';var disqus_title="基于Hexo搭建个人博客——进阶篇(从入门到入土)";function run_disqus_script(disqus_script){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+disqus_shortname+'.disqus.com/'+disqus_script;(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);}
var disqus={load:function disqus(){if(typeof DISQUS!=='object'){(function(){var s=document.createElement('script');s.async=true;s.type='text/javascript';s.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('HEAD')[0]||document.getElementsByTagName('BODY')[0]).appendChild(s);}());$('#load-disqus').html("评论加载中，请确保你有梯子，若评论长时间未加载则你可能翻墙失败...").fadeOut(9000);}}}</script><script>var isfetched=false;var search_path="search.xml";if(search_path.length==0){search_path="search.xml";}
var path="/"+search_path;function proceedsearch(){$("body").append('<div class="popoverlay">').css('overflow','hidden');$('.popup').toggle();}
var searchFunc=function(path,search_id,content_id){'use strict';$.ajax({url:path,dataType:"xml",async:true,success:function(xmlResponse){isfetched=true;$('.popup').detach().appendTo('.header-inner');var datas=$("entry",xmlResponse).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()};}).get();var $input=document.getElementById(search_id);var $resultContent=document.getElementById(content_id);$input.addEventListener('input',function(){var matchcounts=0;var str='<ul class=\"search-result-list\">';var keywords=this.value.trim().toLowerCase().split(/[\s\-]+/);$resultContent.innerHTML="";if(this.value.trim().length>1){datas.forEach(function(data){var isMatch=false;var content_index=[];var data_title=data.title.trim().toLowerCase();var data_content=data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();var data_url=decodeURIComponent(data.url);var index_title=-1;var index_content=-1;var first_occur=-1;if(data_title!=''){keywords.forEach(function(keyword,i){index_title=data_title.indexOf(keyword);index_content=data_content.indexOf(keyword);if(index_title>=0||index_content>=0){isMatch=true;if(i==0){first_occur=index_content;}}});}
if(isMatch){matchcounts+=1;str+="<li><a href='"+data_url+"' class='search-result-title'>"+data_title+"</a>";var content=data.content.trim().replace(/<[^>]+>/g,"");if(first_occur>=0){var start=first_occur-20;var end=first_occur+80;if(start<0){start=0;}
if(start==0){end=50;}
if(end>content.length){end=content.length;}
var match_content=content.substring(start,end);keywords.forEach(function(keyword){var regS=new RegExp(keyword,"gi");match_content=match_content.replace(regS,"<b class=\"search-keyword\">"+keyword+"</b>");});str+="<p class=\"search-result\">"+match_content+"...</p>"}
str+="</li>";}})};str+="</ul>";if(matchcounts==0){str='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'}
if(keywords==""){str='<div id="no-result"><i class="fa fa-search fa-5x" /></div>'}
$resultContent.innerHTML=str;});proceedsearch();}});}
$('.popup-trigger').click(function(e){e.stopPropagation();if(isfetched==false){searchFunc(path,'local-search-input','local-search-result');}else{proceedsearch();};});$('.popup-btn-close').click(function(e){$('.popup').hide();$(".popoverlay").remove();$('body').css('overflow','');});$('.popup').click(function(e){e.stopPropagation();});</script><script src=https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js></script><script>AV.initialize("usE0s6JGUeOiMcsVoRuHuv2B-gzGzoHsz","ewm6NEF07r83HbnOr63ptuKH");</script><script>function showTime(Counter){var query=new AV.Query(Counter);var entries=[];var $visitors=$(".leancloud_visitors");$visitors.each(function(){entries.push($(this).attr("id").trim());});query.containedIn('url',entries);query.find().done(function(results){var COUNT_CONTAINER_REF='.leancloud-visitors-count';if(results.length===0){$visitors.find(COUNT_CONTAINER_REF).text(0);return;}
for(var i=0;i<results.length;i++){var item=results[i];var url=item.get('url');var time=item.get('time');var element=document.getElementById(url);$(element).find(COUNT_CONTAINER_REF).text(time);}
for(var i=0;i<entries.length;i++){var url=entries[i];var element=document.getElementById(url);var countSpan=$(element).find(COUNT_CONTAINER_REF);if(countSpan.text()==''){countSpan.text(0);}}}).fail(function(object,error){console.log("Error: "+error.code+" "+error.message);});}
function addCount(Counter){var $visitors=$(".leancloud_visitors");var url=$visitors.attr('id').trim();var title=$visitors.attr('data-flag-title').trim();var query=new AV.Query(Counter);query.equalTo("url",url);query.find({success:function(results){if(results.length>0){var counter=results[0];counter.fetchWhenSave(true);counter.increment("time");counter.save(null,{success:function(counter){var $element=$(document.getElementById(url));$element.find('.leancloud-visitors-count').text(counter.get('time'));},error:function(counter,error){console.log('Failed to save Visitor num, with error message: '+error.message);}});}else{var newcounter=new Counter();var acl=new AV.ACL();acl.setPublicReadAccess(true);acl.setPublicWriteAccess(true);newcounter.setACL(acl);newcounter.set("title",title);newcounter.set("url",url);newcounter.set("time",1);newcounter.save(null,{success:function(newcounter){var $element=$(document.getElementById(url));$element.find('.leancloud-visitors-count').text(newcounter.get('time'));},error:function(newcounter,error){console.log('Failed to create');}});}},error:function(error){console.log('Error:'+error.code+" "+error.message);}});}
$(function(){var Counter=AV.Object.extend("Counter");if($('.leancloud_visitors').length==1){addCount(Counter);}else if($('.post-title-link').length>1){showTime(Counter);}});</script><script>(function(){var bp=document.createElement('script');var curProtocol=window.location.protocol.split(':')[0];if(curProtocol==='https'){bp.src='https://zz.bdstatic.com/linksubmit/push.js';}
else{bp.src='http://push.zhanzhang.baidu.com/push.js';}
var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bp,s);})();</script><script color=255,0,204 opacity=0.5 zindex=-2 count=40 src=//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js></script><script>$('body').delegate('.-mob-share-weixin-qrcode-bg','click',function(){$(".-mob-share-weixin-qrcode-close").trigger("click");});</script><canvas class=fireworks style=position:fixed;left:0;top:0;z-index:1;pointer-events:none></canvas>
<script src=//cdn.bootcss.com/animejs/2.2.0/anime.min.js></script><script src=/js/src/fireworks.js></script><script src=/js/src/dytitle.js></script></div></footer></div><script src=/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"superSample":2,"width":88,"height":88,"position":"left"},"mobile":{"show":false},"react":{"opacityDefault":0.9,"opacityOnHover":0.5},"log":false});</script>